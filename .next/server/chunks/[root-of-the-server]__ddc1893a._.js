module.exports=[18622,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},24725,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},93695,(e,t,r)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},91447,(e,t,r)=>{"use strict";var a=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i={},l={VercelOidcTokenError:()=>d};for(var u in l)a(i,u,{get:l[u],enumerable:!0});t.exports=((e,t,r,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))o.call(e,r)||void 0===r||a(e,r,{get:()=>t[r],enumerable:!(i=n(t,r))||i.enumerable});return e})(a({},"__esModule",{value:!0}),i);class d extends Error{constructor(e,t){super(e),this.name="VercelOidcTokenError",this.cause=t}toString(){return this.cause?`${this.name}: ${this.message}: ${this.cause}`:`${this.name}: ${this.message}`}}},74751,e=>{"use strict";var t=e.i(5246),r=e.i(9381),a=e.i(53516),n=e.i(88513),s=e.i(6151),o=e.i(50059),i=e.i(66602),l=e.i(52444),u=e.i(14694),d=e.i(49691),c=e.i(7726),p=e.i(34583),h=e.i(41813),m=e.i(36356),g=e.i(65931),f=e.i(93695);e.i(94173);var v=e.i(51092),x=e.i(72668),y=e.i(89660);let w=`You are AgyntSynq in training mode. The user is teaching you about their business, products, sales processes, and other knowledge that will help you assist them better.

Your role in this conversation:
1. Ask clarifying questions to understand their business deeply
2. Summarize what you learn to confirm understanding
3. Suggest additional information that would be helpful
4. Store and remember everything they share
5. Make connections between different pieces of information

When the user shares information:
- Acknowledge what they've shared
- Ask follow-up questions if something is unclear
- Suggest related topics they might want to cover
- Confirm how this information might be used (e.g., "So when a prospect asks about pricing, I should explain...")

Topics to explore:
- Products/Services: Features, benefits, pricing, differentiators
- Ideal Customer Profile: Industry, company size, pain points
- Sales Process: Stages, typical timeline, key stakeholders
- Common Objections: What pushback do prospects give?
- Success Stories: Case studies, testimonials, proof points
- Competition: Main competitors, how you differentiate
- Company Culture: Values, mission, communication style

Remember: Every piece of information helps you serve the user better. Be curious and thorough.`;async function R(e){try{let{messages:t}=await e.json(),r=await (0,y.createClient)(),{data:{user:a}}=await r.auth.getUser();if(!a)return new Response("Unauthorized",{status:401});let n=await (0,x.convertToModelMessages)(t),s=(0,x.streamText)({model:"openai/gpt-4o",system:w,messages:n});return b(a.id,t).catch(console.error),s.toUIMessageStreamResponse()}catch(e){return console.error("[v0] Training Chat Error:",e),new Response(JSON.stringify({error:"Failed to process training chat"}),{status:500,headers:{"Content-Type":"application/json"}})}}async function b(e,t){let r=await (0,y.createClient)(),a=t.filter(e=>"user"===e.role).pop(),n=t.filter(e=>"assistant"===e.role).pop();(a||n)&&await r.from("ai_chat_history").insert({user_id:e,chat_type:"training",messages:t.map(e=>({role:e.role,content:e.parts?.filter(e=>"text"===e.type).map(e=>e.text).join("")||""}))})}e.s(["POST",()=>R],13900);var C=e.i(13900);let E=new t.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/ai/training-chat/route",pathname:"/api/ai/training-chat",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/app/api/ai/training-chat/route.ts",nextConfigOutput:"",userland:C}),{workAsyncStorage:k,workUnitAsyncStorage:S,serverHooks:A}=E;function O(){return(0,a.patchFetch)({workAsyncStorage:k,workUnitAsyncStorage:S})}async function P(e,t,a){E.isDev&&(0,n.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let x="/api/ai/training-chat/route";x=x.replace(/\/index$/,"")||"/";let y=await E.prepare(e,t,{srcPage:x,multiZoneDraftMode:!1});if(!y)return t.statusCode=400,t.end("Bad Request"),null==a.waitUntil||a.waitUntil.call(a,Promise.resolve()),null;let{buildId:w,params:R,nextConfig:b,parsedUrl:C,isDraftMode:k,prerenderManifest:S,routerServerContext:A,isOnDemandRevalidate:O,revalidateOnlyGenerated:P,resolvedPathname:T,clientReferenceManifest:_,serverActionsManifest:j}=y,N=(0,i.normalizeAppPath)(x),q=!!(S.dynamicRoutes[N]||S.routes[T]),I=async()=>((null==A?void 0:A.render404)?await A.render404(e,t,C,!1):t.end("This page could not be found"),null);if(q&&!k){let e=!!S.routes[T],t=S.dynamicRoutes[N];if(t&&!1===t.fallback&&!e){if(b.experimental.adapterPath)return await I();throw new f.NoFallbackError}}let U=null;!q||E.isDev||k||(U="/index"===(U=T)?"/":U);let M=!0===E.isDev||!q,H=q&&!M;j&&_&&(0,o.setManifestsSingleton)({page:x,clientReferenceManifest:_,serverActionsManifest:j});let D=e.method||"GET",$=(0,s.getTracer)(),F=$.getActiveScopeSpan(),K={params:R,prerenderManifest:S,renderOpts:{experimental:{authInterrupts:!!b.experimental.authInterrupts},cacheComponents:!!b.cacheComponents,supportsDynamicResponse:M,incrementalCache:(0,n.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:b.cacheLife,waitUntil:a.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,a,n)=>E.onRequestError(e,t,a,n,A)},sharedContext:{buildId:w}},B=new l.NodeNextRequest(e),V=new l.NodeNextResponse(t),L=u.NextRequestAdapter.fromNodeNextRequest(B,(0,u.signalFromNodeResponse)(t));try{let o=async e=>E.handle(L,K).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=$.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==d.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let a=r.get("next.route");if(a){let t=`${D} ${a}`;e.setAttributes({"next.route":a,"http.route":a,"next.span_name":t}),e.updateName(t)}else e.updateName(`${D} ${x}`)}),i=!!(0,n.getRequestMeta)(e,"minimalMode"),l=async n=>{var s,l;let u=async({previousCacheEntry:r})=>{try{if(!i&&O&&P&&!r)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let s=await o(n);e.fetchMetrics=K.renderOpts.fetchMetrics;let l=K.renderOpts.pendingWaitUntil;l&&a.waitUntil&&(a.waitUntil(l),l=void 0);let u=K.renderOpts.collectedTags;if(!q)return await (0,p.sendResponse)(B,V,s,K.renderOpts.pendingWaitUntil),null;{let e=await s.blob(),t=(0,h.toNodeOutgoingHttpHeaders)(s.headers);u&&(t[g.NEXT_CACHE_TAGS_HEADER]=u),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==K.renderOpts.collectedRevalidate&&!(K.renderOpts.collectedRevalidate>=g.INFINITE_CACHE)&&K.renderOpts.collectedRevalidate,a=void 0===K.renderOpts.collectedExpire||K.renderOpts.collectedExpire>=g.INFINITE_CACHE?void 0:K.renderOpts.collectedExpire;return{value:{kind:v.CachedRouteKind.APP_ROUTE,status:s.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:a}}}}catch(t){throw(null==r?void 0:r.isStale)&&await E.onRequestError(e,t,{routerKind:"App Router",routePath:x,routeType:"route",revalidateReason:(0,c.getRevalidateReason)({isStaticGeneration:H,isOnDemandRevalidate:O})},!1,A),t}},d=await E.handleResponse({req:e,nextConfig:b,cacheKey:U,routeKind:r.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:S,isRoutePPREnabled:!1,isOnDemandRevalidate:O,revalidateOnlyGenerated:P,responseGenerator:u,waitUntil:a.waitUntil,isMinimalMode:i});if(!q)return null;if((null==d||null==(s=d.value)?void 0:s.kind)!==v.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==d||null==(l=d.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});i||t.setHeader("x-nextjs-cache",O?"REVALIDATED":d.isMiss?"MISS":d.isStale?"STALE":"HIT"),k&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let f=(0,h.fromNodeOutgoingHttpHeaders)(d.value.headers);return i&&q||f.delete(g.NEXT_CACHE_TAGS_HEADER),!d.cacheControl||t.getHeader("Cache-Control")||f.get("Cache-Control")||f.set("Cache-Control",(0,m.getCacheControlHeader)(d.cacheControl)),await (0,p.sendResponse)(B,V,new Response(d.value.body,{headers:f,status:d.value.status||200})),null};F?await l(F):await $.withPropagatedContext(e.headers,()=>$.trace(d.BaseServerSpan.handleRequest,{spanName:`${D} ${x}`,kind:s.SpanKind.SERVER,attributes:{"http.method":D,"http.target":e.url}},l))}catch(t){if(t instanceof f.NoFallbackError||await E.onRequestError(e,t,{routerKind:"App Router",routePath:N,routeType:"route",revalidateReason:(0,c.getRevalidateReason)({isStaticGeneration:H,isOnDemandRevalidate:O})},!1,A),q)throw t;return await (0,p.sendResponse)(B,V,new Response(null,{status:500})),null}}e.s(["handler",()=>P,"patchFetch",()=>O,"routeModule",()=>E,"serverHooks",()=>A,"workAsyncStorage",()=>k,"workUnitAsyncStorage",()=>S],74751)},66263,e=>{e.v(t=>Promise.all(["server/chunks/[root-of-the-server]__3043a010._.js"].map(t=>e.l(t))).then(()=>t(71329)))},49241,e=>{e.v(t=>Promise.all(["server/chunks/[root-of-the-server]__d63c17b3._.js"].map(t=>e.l(t))).then(()=>t(80800)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ddc1893a._.js.map