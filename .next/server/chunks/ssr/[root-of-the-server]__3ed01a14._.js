module.exports=[54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},27699,(a,b,c)=>{b.exports=a.x("events",()=>require("events"))},21517,(a,b,c)=>{b.exports=a.x("http",()=>require("http"))},24836,(a,b,c)=>{b.exports=a.x("https",()=>require("https"))},33405,(a,b,c)=>{b.exports=a.x("child_process",()=>require("child_process"))},28107,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(36752)},93040,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},91888,a=>{"use strict";var b=a.i(28107),c=a.i(27071);let d=[{id:"starter",name:"Starter",description:"Perfect for small teams getting started",pricePerSeatCents:2900,features:["Up to 500 contacts","Basic AI assistance","Email integration","Standard support"],maxSeats:5},{id:"professional",name:"Professional",description:"For growing teams that need more power",pricePerSeatCents:7900,features:["Up to 5,000 contacts","Advanced AI with Thorne","Multi-channel outreach","Priority support","Custom workflows"],maxSeats:25},{id:"enterprise",name:"Enterprise",description:"Full power for large organizations",pricePerSeatCents:14900,features:["Unlimited contacts","Full Thorne AI suite","All integrations","Dedicated support","Custom training","API access"],maxSeats:100}];var e=a.i(93040);async function f(a){var b;let e=(b=a.planId,d.find(a=>a.id===b));if(!e)return{error:"Invalid plan selected"};if(a.seatCount>e.maxSeats)return{error:`Maximum ${e.maxSeats} seats allowed for ${e.name} plan`};try{let b=(0,c.getStripe)(),d=await b.checkout.sessions.create({mode:"subscription",payment_method_types:["card"],customer_email:a.email,line_items:[{price_data:{currency:"usd",product_data:{name:`${e.name} Plan`,description:`${a.seatCount} seat(s) - ${e.description}`},unit_amount:e.pricePerSeatCents,recurring:{interval:"month"}},quantity:a.seatCount}],metadata:{planId:a.planId,seatCount:a.seatCount.toString(),tenantName:a.tenantName,email:a.email},subscription_data:{metadata:{planId:a.planId,seatCount:a.seatCount.toString(),tenantName:a.tenantName}},success_url:a.successUrl,cancel_url:a.cancelUrl});return{sessionId:d.id,url:d.url}}catch(a){return console.error("[v0] Stripe checkout error:",a),{error:"Failed to create checkout session"}}}async function g(a,b){try{let d=(0,c.getStripe)();return{url:(await d.billingPortal.sessions.create({customer:a,return_url:b})).url}}catch(a){return console.error("[v0] Billing portal error:",a),{error:"Failed to create billing portal session"}}}async function h(a,b){try{let d=(0,c.getStripe)(),e=await d.subscriptions.retrieve(a),f=e.items.data[0]?.id;if(!f)return{error:"Subscription item not found"};return await d.subscriptions.update(a,{items:[{id:f,quantity:b}],proration_behavior:"create_prorations"}),{success:!0}}catch(a){return console.error("[v0] Update seats error:",a),{error:"Failed to update subscription seats"}}}(0,c.getStripe)(),(0,e.ensureServerEntryExports)([f,g,h]),(0,b.registerServerReference)(f,"40535cfc8bc8b87d7969c774be81008164fa8cb20b",null),(0,b.registerServerReference)(g,"603bf032a109c14539a49fef96f434a85e2bc4e34e",null),(0,b.registerServerReference)(h,"60cd42c23cb208f97be6d7d205e1d202483b6e1c1f",null),a.s([],90242),a.i(90242),a.s(["603bf032a109c14539a49fef96f434a85e2bc4e34e",()=>g],91888)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__3ed01a14._.js.map