module.exports=[54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},27699,(a,b,c)=>{b.exports=a.x("events",()=>require("events"))},21517,(a,b,c)=>{b.exports=a.x("http",()=>require("http"))},24836,(a,b,c)=>{b.exports=a.x("https",()=>require("https"))},33405,(a,b,c)=>{b.exports=a.x("child_process",()=>require("child_process"))},28107,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(36752)},93040,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},95643,a=>{"use strict";var b=a.i(28107),c=a.i(27071);async function d(a){let b,{email:d,username:e,userId:f,companyName:g,planId:h="agyntsync",seatCount:i=1,monthlyPrice:j=249}=a,k=(0,c.getStripe)(),l=await k.customers.list({email:d,limit:1});b=l.data.length>0?l.data[0].id:(await k.customers.create({email:d,metadata:{username:e,userId:f,companyName:g}})).id;let m="agyntsync"===h?`AgyntSync Neural Bundle${i>1?` (${i} seats)`:""}`:`Agyntos Standard${i>1?` (${i} seats)`:""}`,n=await k.checkout.sessions.create({customer:b,ui_mode:"embedded",redirect_on_completion:"never",line_items:[{price_data:{currency:"usd",product_data:{name:m,description:`Monthly subscription to ${"agyntsync"===h?"AgyntSync":"Agyntos"} platform with ${i} user seat${i>1?"s":""}`},unit_amount:100*j,recurring:{interval:"month"}},quantity:1}],mode:"subscription",subscription_data:{metadata:{username:e,userId:f,planId:h,seatCount:i.toString()}},metadata:{username:e,userId:f,type:"signup",tenantName:g,planId:h,seatCount:i.toString(),email:d}});return{clientSecret:n.client_secret,sessionId:n.id}}async function e(a){let b=(0,c.getStripe)(),d=await b.checkout.sessions.retrieve(a);return{status:d.status,paymentStatus:d.payment_status,customerEmail:d.customer_details?.email}}(0,a.i(93040).ensureServerEntryExports)([d,e]),(0,b.registerServerReference)(d,"40427eaeb8149b2f0b9d0d1a1d8c605fb77298849d",null),(0,b.registerServerReference)(e,"40073a57d32b4a0f8f578fd623a3eb4a6028609d07",null),a.s([],74099),a.i(74099),a.s(["40427eaeb8149b2f0b9d0d1a1d8c605fb77298849d",()=>d],95643)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__89fad614._.js.map