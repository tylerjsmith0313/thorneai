{"version":3,"sources":["../../../../node_modules/.pnpm/%40vercel%2Boidc%403.1.0/node_modules/%40vercel/oidc/dist/token-io.js","../../../../node_modules/.pnpm/%40vercel%2Boidc%403.1.0/node_modules/%40vercel/oidc/dist/auth-config.js","../../../../node_modules/.pnpm/%40vercel%2Boidc%403.1.0/node_modules/%40vercel/oidc/dist/oauth.js","../../../../node_modules/.pnpm/%40vercel%2Boidc%403.1.0/node_modules/%40vercel/oidc/dist/token-util.js","../../../../node_modules/.pnpm/%40vercel%2Boidc%403.1.0/node_modules/%40vercel/oidc/dist/token.js"],"sourcesContent":["\"use strict\";\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar token_io_exports = {};\n__export(token_io_exports, {\n  findRootDir: () => findRootDir,\n  getUserDataDir: () => getUserDataDir\n});\nmodule.exports = __toCommonJS(token_io_exports);\nvar import_path = __toESM(require(\"path\"));\nvar import_fs = __toESM(require(\"fs\"));\nvar import_os = __toESM(require(\"os\"));\nvar import_token_error = require(\"./token-error\");\nfunction findRootDir() {\n  try {\n    let dir = process.cwd();\n    while (dir !== import_path.default.dirname(dir)) {\n      const pkgPath = import_path.default.join(dir, \".vercel\");\n      if (import_fs.default.existsSync(pkgPath)) {\n        return dir;\n      }\n      dir = import_path.default.dirname(dir);\n    }\n  } catch (e) {\n    throw new import_token_error.VercelOidcTokenError(\n      \"Token refresh only supported in node server environments\"\n    );\n  }\n  return null;\n}\nfunction getUserDataDir() {\n  if (process.env.XDG_DATA_HOME) {\n    return process.env.XDG_DATA_HOME;\n  }\n  switch (import_os.default.platform()) {\n    case \"darwin\":\n      return import_path.default.join(import_os.default.homedir(), \"Library/Application Support\");\n    case \"linux\":\n      return import_path.default.join(import_os.default.homedir(), \".local/share\");\n    case \"win32\":\n      if (process.env.LOCALAPPDATA) {\n        return process.env.LOCALAPPDATA;\n      }\n      return null;\n    default:\n      return null;\n  }\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  findRootDir,\n  getUserDataDir\n});\n","\"use strict\";\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar auth_config_exports = {};\n__export(auth_config_exports, {\n  isValidAccessToken: () => isValidAccessToken,\n  readAuthConfig: () => readAuthConfig,\n  writeAuthConfig: () => writeAuthConfig\n});\nmodule.exports = __toCommonJS(auth_config_exports);\nvar fs = __toESM(require(\"fs\"));\nvar path = __toESM(require(\"path\"));\nvar import_token_util = require(\"./token-util\");\nfunction getAuthConfigPath() {\n  const dataDir = (0, import_token_util.getVercelDataDir)();\n  if (!dataDir) {\n    throw new Error(\n      `Unable to find Vercel CLI data directory. Your platform: ${process.platform}. Supported: darwin, linux, win32.`\n    );\n  }\n  return path.join(dataDir, \"auth.json\");\n}\nfunction readAuthConfig() {\n  try {\n    const authPath = getAuthConfigPath();\n    if (!fs.existsSync(authPath)) {\n      return null;\n    }\n    const content = fs.readFileSync(authPath, \"utf8\");\n    if (!content) {\n      return null;\n    }\n    return JSON.parse(content);\n  } catch (error) {\n    return null;\n  }\n}\nfunction writeAuthConfig(config) {\n  const authPath = getAuthConfigPath();\n  const authDir = path.dirname(authPath);\n  if (!fs.existsSync(authDir)) {\n    fs.mkdirSync(authDir, { mode: 504, recursive: true });\n  }\n  fs.writeFileSync(authPath, JSON.stringify(config, null, 2), { mode: 384 });\n}\nfunction isValidAccessToken(authConfig) {\n  if (!authConfig.token)\n    return false;\n  if (typeof authConfig.expiresAt !== \"number\")\n    return true;\n  const nowInSeconds = Math.floor(Date.now() / 1e3);\n  return authConfig.expiresAt >= nowInSeconds;\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  isValidAccessToken,\n  readAuthConfig,\n  writeAuthConfig\n});\n","\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar oauth_exports = {};\n__export(oauth_exports, {\n  processTokenResponse: () => processTokenResponse,\n  refreshTokenRequest: () => refreshTokenRequest\n});\nmodule.exports = __toCommonJS(oauth_exports);\nvar import_os = require(\"os\");\nconst VERCEL_ISSUER = \"https://vercel.com\";\nconst VERCEL_CLI_CLIENT_ID = \"cl_HYyOPBNtFMfHhaUn9L4QPfTZz6TP47bp\";\nconst userAgent = `@vercel/oidc node-${process.version} ${(0, import_os.platform)()} (${(0, import_os.arch)()}) ${(0, import_os.hostname)()}`;\nlet _tokenEndpoint = null;\nasync function getTokenEndpoint() {\n  if (_tokenEndpoint) {\n    return _tokenEndpoint;\n  }\n  const discoveryUrl = `${VERCEL_ISSUER}/.well-known/openid-configuration`;\n  const response = await fetch(discoveryUrl, {\n    headers: { \"user-agent\": userAgent }\n  });\n  if (!response.ok) {\n    throw new Error(\"Failed to discover OAuth endpoints\");\n  }\n  const metadata = await response.json();\n  if (!metadata || typeof metadata.token_endpoint !== \"string\") {\n    throw new Error(\"Invalid OAuth discovery response\");\n  }\n  const endpoint = metadata.token_endpoint;\n  _tokenEndpoint = endpoint;\n  return endpoint;\n}\nasync function refreshTokenRequest(options) {\n  const tokenEndpoint = await getTokenEndpoint();\n  return await fetch(tokenEndpoint, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n      \"user-agent\": userAgent\n    },\n    body: new URLSearchParams({\n      client_id: VERCEL_CLI_CLIENT_ID,\n      grant_type: \"refresh_token\",\n      ...options\n    })\n  });\n}\nasync function processTokenResponse(response) {\n  const json = await response.json();\n  if (!response.ok) {\n    const errorMsg = typeof json === \"object\" && json && \"error\" in json ? String(json.error) : \"Token refresh failed\";\n    return [new Error(errorMsg)];\n  }\n  if (typeof json !== \"object\" || json === null) {\n    return [new Error(\"Invalid token response\")];\n  }\n  if (typeof json.access_token !== \"string\") {\n    return [new Error(\"Missing access_token in response\")];\n  }\n  if (json.token_type !== \"Bearer\") {\n    return [new Error(\"Invalid token_type in response\")];\n  }\n  if (typeof json.expires_in !== \"number\") {\n    return [new Error(\"Missing expires_in in response\")];\n  }\n  return [null, json];\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  processTokenResponse,\n  refreshTokenRequest\n});\n","\"use strict\";\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar token_util_exports = {};\n__export(token_util_exports, {\n  assertVercelOidcTokenResponse: () => assertVercelOidcTokenResponse,\n  findProjectInfo: () => findProjectInfo,\n  getTokenPayload: () => getTokenPayload,\n  getVercelCliToken: () => getVercelCliToken,\n  getVercelDataDir: () => getVercelDataDir,\n  getVercelOidcToken: () => getVercelOidcToken,\n  isExpired: () => isExpired,\n  loadToken: () => loadToken,\n  saveToken: () => saveToken\n});\nmodule.exports = __toCommonJS(token_util_exports);\nvar path = __toESM(require(\"path\"));\nvar fs = __toESM(require(\"fs\"));\nvar import_token_error = require(\"./token-error\");\nvar import_token_io = require(\"./token-io\");\nvar import_auth_config = require(\"./auth-config\");\nvar import_oauth = require(\"./oauth\");\nfunction getVercelDataDir() {\n  const vercelFolder = \"com.vercel.cli\";\n  const dataDir = (0, import_token_io.getUserDataDir)();\n  if (!dataDir) {\n    return null;\n  }\n  return path.join(dataDir, vercelFolder);\n}\nasync function getVercelCliToken() {\n  const authConfig = (0, import_auth_config.readAuthConfig)();\n  if (!authConfig) {\n    return null;\n  }\n  if ((0, import_auth_config.isValidAccessToken)(authConfig)) {\n    return authConfig.token || null;\n  }\n  if (!authConfig.refreshToken) {\n    (0, import_auth_config.writeAuthConfig)({});\n    return null;\n  }\n  try {\n    const tokenResponse = await (0, import_oauth.refreshTokenRequest)({\n      refresh_token: authConfig.refreshToken\n    });\n    const [tokensError, tokens] = await (0, import_oauth.processTokenResponse)(tokenResponse);\n    if (tokensError || !tokens) {\n      (0, import_auth_config.writeAuthConfig)({});\n      return null;\n    }\n    const updatedConfig = {\n      token: tokens.access_token,\n      expiresAt: Math.floor(Date.now() / 1e3) + tokens.expires_in\n    };\n    if (tokens.refresh_token) {\n      updatedConfig.refreshToken = tokens.refresh_token;\n    }\n    (0, import_auth_config.writeAuthConfig)(updatedConfig);\n    return updatedConfig.token ?? null;\n  } catch (error) {\n    (0, import_auth_config.writeAuthConfig)({});\n    return null;\n  }\n}\nasync function getVercelOidcToken(authToken, projectId, teamId) {\n  const url = `https://api.vercel.com/v1/projects/${projectId}/token?source=vercel-oidc-refresh${teamId ? `&teamId=${teamId}` : \"\"}`;\n  const res = await fetch(url, {\n    method: \"POST\",\n    headers: {\n      Authorization: `Bearer ${authToken}`\n    }\n  });\n  if (!res.ok) {\n    throw new import_token_error.VercelOidcTokenError(\n      `Failed to refresh OIDC token: ${res.statusText}`\n    );\n  }\n  const tokenRes = await res.json();\n  assertVercelOidcTokenResponse(tokenRes);\n  return tokenRes;\n}\nfunction assertVercelOidcTokenResponse(res) {\n  if (!res || typeof res !== \"object\") {\n    throw new TypeError(\n      \"Vercel OIDC token is malformed. Expected an object. Please run `vc env pull` and try again\"\n    );\n  }\n  if (!(\"token\" in res) || typeof res.token !== \"string\") {\n    throw new TypeError(\n      \"Vercel OIDC token is malformed. Expected a string-valued token property. Please run `vc env pull` and try again\"\n    );\n  }\n}\nfunction findProjectInfo() {\n  const dir = (0, import_token_io.findRootDir)();\n  if (!dir) {\n    throw new import_token_error.VercelOidcTokenError(\n      \"Unable to find project root directory. Have you linked your project with `vc link?`\"\n    );\n  }\n  const prjPath = path.join(dir, \".vercel\", \"project.json\");\n  if (!fs.existsSync(prjPath)) {\n    throw new import_token_error.VercelOidcTokenError(\n      \"project.json not found, have you linked your project with `vc link?`\"\n    );\n  }\n  const prj = JSON.parse(fs.readFileSync(prjPath, \"utf8\"));\n  if (typeof prj.projectId !== \"string\" && typeof prj.orgId !== \"string\") {\n    throw new TypeError(\n      \"Expected a string-valued projectId property. Try running `vc link` to re-link your project.\"\n    );\n  }\n  return { projectId: prj.projectId, teamId: prj.orgId };\n}\nfunction saveToken(token, projectId) {\n  const dir = (0, import_token_io.getUserDataDir)();\n  if (!dir) {\n    throw new import_token_error.VercelOidcTokenError(\n      \"Unable to find user data directory. Please reach out to Vercel support.\"\n    );\n  }\n  const tokenPath = path.join(dir, \"com.vercel.token\", `${projectId}.json`);\n  const tokenJson = JSON.stringify(token);\n  fs.mkdirSync(path.dirname(tokenPath), { mode: 504, recursive: true });\n  fs.writeFileSync(tokenPath, tokenJson);\n  fs.chmodSync(tokenPath, 432);\n  return;\n}\nfunction loadToken(projectId) {\n  const dir = (0, import_token_io.getUserDataDir)();\n  if (!dir) {\n    throw new import_token_error.VercelOidcTokenError(\n      \"Unable to find user data directory. Please reach out to Vercel support.\"\n    );\n  }\n  const tokenPath = path.join(dir, \"com.vercel.token\", `${projectId}.json`);\n  if (!fs.existsSync(tokenPath)) {\n    return null;\n  }\n  const token = JSON.parse(fs.readFileSync(tokenPath, \"utf8\"));\n  assertVercelOidcTokenResponse(token);\n  return token;\n}\nfunction getTokenPayload(token) {\n  const tokenParts = token.split(\".\");\n  if (tokenParts.length !== 3) {\n    throw new import_token_error.VercelOidcTokenError(\n      \"Invalid token. Please run `vc env pull` and try again\"\n    );\n  }\n  const base64 = tokenParts[1].replace(/-/g, \"+\").replace(/_/g, \"/\");\n  const padded = base64.padEnd(\n    base64.length + (4 - base64.length % 4) % 4,\n    \"=\"\n  );\n  return JSON.parse(Buffer.from(padded, \"base64\").toString(\"utf8\"));\n}\nfunction isExpired(token) {\n  return token.exp * 1e3 < Date.now();\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  assertVercelOidcTokenResponse,\n  findProjectInfo,\n  getTokenPayload,\n  getVercelCliToken,\n  getVercelDataDir,\n  getVercelOidcToken,\n  isExpired,\n  loadToken,\n  saveToken\n});\n","\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar token_exports = {};\n__export(token_exports, {\n  refreshToken: () => refreshToken\n});\nmodule.exports = __toCommonJS(token_exports);\nvar import_token_error = require(\"./token-error\");\nvar import_token_util = require(\"./token-util\");\nasync function refreshToken() {\n  const { projectId, teamId } = (0, import_token_util.findProjectInfo)();\n  let maybeToken = (0, import_token_util.loadToken)(projectId);\n  if (!maybeToken || (0, import_token_util.isExpired)((0, import_token_util.getTokenPayload)(maybeToken.token))) {\n    const authToken = await (0, import_token_util.getVercelCliToken)();\n    if (!authToken) {\n      throw new import_token_error.VercelOidcTokenError(\n        \"Failed to refresh OIDC token: Log in to Vercel CLI and link your project with `vc link`\"\n      );\n    }\n    if (!projectId) {\n      throw new import_token_error.VercelOidcTokenError(\n        \"Failed to refresh OIDC token: Try re-linking your project with `vc link`\"\n      );\n    }\n    maybeToken = await (0, import_token_util.getVercelOidcToken)(authToken, projectId, teamId);\n    if (!maybeToken) {\n      throw new import_token_error.VercelOidcTokenError(\"Failed to refresh OIDC token\");\n    }\n    (0, import_token_util.saveToken)(maybeToken, projectId);\n  }\n  process.env.VERCEL_OIDC_TOKEN = maybeToken.token;\n  return;\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  refreshToken\n});\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,3,4]}