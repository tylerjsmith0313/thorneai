module.exports=[93618,a=>{"use strict";let b=["gmail.com","googlemail.com","hotmail.com","hotmail.co.uk","outlook.com","outlook.co.uk","live.com","live.co.uk","msn.com","yahoo.com","yahoo.co.uk","yahoo.ca","yahoo.com.au","ymail.com","rocketmail.com","icloud.com","me.com","mac.com","aol.com","aim.com","protonmail.com","proton.me","pm.me","mail.com","email.com","zoho.com","yandex.com","gmx.com","gmx.net","fastmail.com","tutanota.com","hushmail.com","inbox.com","mail.ru","rediffmail.com","lycos.com","excite.com","att.net","sbcglobal.net","verizon.net","comcast.net","cox.net","charter.net","earthlink.net","juno.com","netzero.net","optonline.net","frontier.com","windstream.net","bellsouth.net"];function c(a){if(!a||!a.includes("@"))return!1;let c=a.toLowerCase().split("@")[1];return!(!c||b.includes(c))}function d(a){if(!a)return"Email is required";if(!a.includes("@"))return"Please enter a valid email address";let c=a.toLowerCase().split("@")[1];return c?b.includes(c)?"Please use a corporate or business email address. Personal email addresses (Gmail, Yahoo, Outlook, etc.) are not allowed.":null:"Please enter a valid email address"}a.s(["getEmailValidationError",()=>d,"isBusinessEmail",()=>c])},94342,(a,b,c)=>{"use strict";b.exports=a.r(67299).vendored["react-ssr"].ReactJsxRuntime},75761,(a,b,c)=>{"use strict";b.exports=a.r(67299).vendored["react-ssr"].ReactServerDOMTurbopackClient},40688,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d,e={ACTION_HMR_REFRESH:function(){return k},ACTION_NAVIGATE:function(){return h},ACTION_REFRESH:function(){return g},ACTION_RESTORE:function(){return i},ACTION_SERVER_ACTION:function(){return l},ACTION_SERVER_PATCH:function(){return j},PrefetchKind:function(){return m}};for(var f in e)Object.defineProperty(c,f,{enumerable:!0,get:e[f]});let g="refresh",h="navigate",i="restore",j="server-patch",k="hmr-refresh",l="server-action";var m=((d={}).AUTO="auto",d.FULL="full",d);("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},27241,(a,b,c)=>{"use strict";function d(a){return null!==a&&"object"==typeof a&&"then"in a&&"function"==typeof a.then}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"isThenable",{enumerable:!0,get:function(){return d}})},68897,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={dispatchAppRouterAction:function(){return i},useActionQueue:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(3988)._(a.r(365)),g=a.r(27241),h=null;function i(a){if(null===h)throw Object.defineProperty(Error("Internal Next.js error: Router action dispatched before initialization."),"__NEXT_ERROR_CODE",{value:"E668",enumerable:!1,configurable:!0});h(a)}function j(a){let[b,c]=f.default.useState(a.state);h=b=>a.dispatch(b,c);let d=(0,f.useMemo)(()=>b,[b]);return(0,g.isThenable)(d)?(0,f.use)(d):d}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},38581,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"callServer",{enumerable:!0,get:function(){return g}});let d=a.r(365),e=a.r(40688),f=a.r(68897);async function g(a,b){return new Promise((c,g)=>{(0,d.startTransition)(()=>{(0,f.dispatchAppRouterAction)({type:e.ACTION_SERVER_ACTION,actionId:a,actionArgs:b,resolve:c,reject:g})})})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},56716,(a,b,c)=>{"use strict";let d;Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"findSourceMapURL",{enumerable:!0,get:function(){return d}});("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},25700,a=>{"use strict";var b=a.i(365);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim(),d=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)};var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:d=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:d,height:d,stroke:a,strokeWidth:g?24*Number(f)/Number(d):f,className:c("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0;return!1})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:c(`lucide-${d(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=d(a),g};a.s(["default",()=>g],25700)},81781,a=>{"use strict";let b=(0,a.i(25700).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],81781)},12533,a=>{"use strict";let b=(0,a.i(25700).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);a.s(["Lock",()=>b],12533)},92690,83886,41274,a=>{"use strict";var b=a.i(25700);let c=(0,b.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>c],92690);let d=(0,b.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>d],83886);let e=(0,b.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);a.s(["EyeOff",()=>e],41274)},3888,a=>{"use strict";var b=a.i(94342),c=a.i(365),d=a.i(95929),e=a.i(14227),f=a.i(69240),g=a.i(92690),h=a.i(83886),i=a.i(41274),j=a.i(88064),k=a.i(81781),l=a.i(47979),m=a.i(71306),n=a.i(12533),o=a.i(93618),p=a.i(65733);function q(){let a=(0,d.useRouter)(),q=(0,d.useSearchParams)(),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)("form"),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(null),[J,K]=(0,c.useState)({firstName:"",lastName:"",email:"",companyName:"",password:"",confirmPassword:""}),L="session_timeout"===q.get("reason"),M=async b=>{if(b.preventDefault(),r.trim()&&t.trim()&&!z){y(null),A(!0);try{let b=(0,f.createClient)(),{error:c}=await b.auth.signInWithPassword({email:r.trim(),password:t});if(c){y(c.message),A(!1);return}a.push("/"),a.refresh()}catch{y("A system error occurred. Please try again later."),A(!1)}}},N=a=>{let{name:b,value:c}=a.target;K(a=>({...a,[b]:c})),I(null)},O=async a=>{if(a.preventDefault(),I(null),!J.firstName.trim())return void I("First name is required");if(!J.lastName.trim())return void I("Last name is required");if(!J.email.trim())return void I("Email is required");let b=(0,o.getEmailValidationError)(J.email);if(b)return void I(b);if(!(0,o.isBusinessEmail)(J.email))return void I("Please use a corporate or business email address. Personal emails (Gmail, Yahoo, Outlook, etc.) are not allowed.");if(!J.companyName.trim())return void I("Company name is required");if(J.password.length<6)return void I("Password must be at least 6 characters");if(J.password!==J.confirmPassword)return void I("Passwords do not match");G(!0);try{let a=(0,f.createClient)(),b=J.email.toLowerCase().split("@")[1],{data:c,error:d}=await a.auth.signUp({email:J.email,password:J.password,options:{emailRedirectTo:`${window.location.origin}/auth/callback`,data:{first_name:J.firstName,last_name:J.lastName,company_name:J.companyName,email_domain:b}}});if(d){I(d.message),G(!1);return}if(c.user){let{data:d}=await a.from("organizations").select("id").eq("domain",b).single();if(!d){let{error:d}=await a.from("organizations").insert({name:J.companyName,domain:b,created_by:c.user.id});d&&console.log("[v0] Organization creation error (may already exist):",d.message)}E("success")}else I("Failed to create account. Please try again.")}catch(a){console.log("[v0] Signup error:",a),I("An unexpected error occurred. Please try again.")}finally{G(!1)}},P=()=>{C(!1),E("form"),I(null),K({firstName:"",lastName:"",email:"",companyName:"",password:"",confirmPassword:""})};return(0,b.jsxs)("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",children:[(0,b.jsxs)("div",{className:"w-full max-w-md",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[(0,b.jsx)("div",{className:"w-14 h-14 rounded-xl bg-indigo-500 flex items-center justify-center mb-6",children:(0,b.jsx)(g.Calendar,{className:"w-7 h-7 text-white"})}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Welcome back"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Sign in to your account"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6",children:[L&&(0,b.jsx)("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-xl text-amber-800 text-sm",children:"Your session has expired. Please sign in again."}),x&&(0,b.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-800 text-sm",children:x}),(0,b.jsxs)("form",{onSubmit:M,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Email"}),(0,b.jsx)("input",{id:"email",type:"email",value:r,onChange:a=>s(a.target.value),placeholder:"you@example.com",className:"w-full px-4 py-3 rounded-xl bg-white border border-slate-200 text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:z,autoComplete:"email",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[(0,b.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700",children:"Password"}),(0,b.jsx)(e.default,{href:"/auth/forgot-password",className:"text-sm text-indigo-500 hover:text-indigo-600",children:"Forgot password?"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{id:"password",type:v?"text":"password",value:t,onChange:a=>u(a.target.value),placeholder:"Enter your password",className:"w-full px-4 py-3 pr-12 rounded-xl bg-white border border-slate-200 text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:z,autoComplete:"current-password",required:!0}),(0,b.jsx)("button",{type:"button",onClick:()=>w(!v),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:v?(0,b.jsx)(i.EyeOff,{className:"w-5 h-5"}):(0,b.jsx)(h.Eye,{className:"w-5 h-5"})})]})]}),(0,b.jsx)("button",{type:"submit",disabled:!r.trim()||!t.trim()||z,className:"w-full py-3 bg-indigo-500 text-white rounded-xl font-medium flex items-center justify-center gap-2 hover:bg-indigo-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:z?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Loader2,{className:"w-4 h-4 animate-spin"}),"Signing in..."]}):"Sign in"})]}),(0,b.jsx)("div",{className:"mt-6 text-center",children:(0,b.jsxs)("p",{className:"text-sm text-slate-500",children:["Don't have an account? ",(0,b.jsx)("button",{onClick:()=>C(!0),className:"text-indigo-500 hover:text-indigo-600 font-medium",children:"Create one"})]})})]})]}),(0,b.jsx)(p.Dialog,{open:B,onOpenChange:a=>{a?C(!0):P()},children:(0,b.jsx)(p.DialogContent,{className:"sm:max-w-lg bg-white",children:"form"===D?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(p.DialogHeader,{children:[(0,b.jsx)(p.DialogTitle,{className:"text-xl font-bold text-slate-900",children:"Create your account"}),(0,b.jsx)(p.DialogDescription,{className:"text-slate-500",children:"Please use your corporate or business email address. Personal emails are not accepted."})]}),H&&(0,b.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm",children:H}),(0,b.jsxs)("form",{onSubmit:O,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"First name"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(k.User,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",name:"firstName",value:J.firstName,onChange:N,placeholder:"John",className:"w-full pl-10 pr-4 py-3 rounded-xl bg-white border border-slate-200 text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:F})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Last name"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(k.User,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",name:"lastName",value:J.lastName,onChange:N,placeholder:"Doe",className:"w-full pl-10 pr-4 py-3 rounded-xl bg-white border border-slate-200 text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:F})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Corporate email"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(l.Mail,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"email",name:"email",value:J.email,onChange:N,placeholder:"you@company.com",className:"w-full pl-10 pr-4 py-3 rounded-xl bg-white border border-slate-200 text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:F})]}),(0,b.jsx)("p",{className:"mt-1 text-xs text-slate-500",children:"Gmail, Yahoo, Outlook, and other personal emails are not accepted."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Company name"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(m.Building2,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",name:"companyName",value:J.companyName,onChange:N,placeholder:"Acme Inc.",className:"w-full pl-10 pr-4 py-3 rounded-xl bg-white border border-slate-200 text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:F})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(n.Lock,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"password",name:"password",value:J.password,onChange:N,placeholder:"Min. 6 characters",className:"w-full pl-10 pr-4 py-3 rounded-xl bg-white border border-slate-200 text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:F})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Confirm password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(n.Lock,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"password",name:"confirmPassword",value:J.confirmPassword,onChange:N,placeholder:"Confirm your password",className:"w-full pl-10 pr-4 py-3 rounded-xl bg-white border border-slate-200 text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:F})]})]}),(0,b.jsx)("button",{type:"submit",disabled:F,className:"w-full py-3 bg-indigo-500 text-white rounded-xl font-medium flex items-center justify-center gap-2 hover:bg-indigo-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:F?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Loader2,{className:"w-4 h-4 animate-spin"}),"Creating account..."]}):"Create account"})]})]}):(0,b.jsxs)("div",{className:"text-center py-6",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("svg",{className:"w-8 h-8 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,b.jsx)(p.DialogTitle,{className:"text-xl font-bold text-slate-900 mb-2",children:"Account created!"}),(0,b.jsx)(p.DialogDescription,{className:"text-slate-500 mb-6",children:"Please check your email to verify your account. Once verified, you can sign in."}),(0,b.jsx)("button",{onClick:P,className:"px-6 py-3 bg-indigo-500 text-white rounded-xl font-medium hover:bg-indigo-600 transition-colors",children:"Back to sign in"})]})})})]})}function r(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:(0,b.jsx)(j.Loader2,{className:"w-8 h-8 animate-spin text-indigo-500"})}),children:(0,b.jsx)(q,{})})}a.s(["default",()=>r])}];

//# sourceMappingURL=_87adf695._.js.map