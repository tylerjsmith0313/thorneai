{"version":3,"sources":["../../../../node_modules/.pnpm/next%4016.1.5_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.4_react%4019.2.4__react%4019.2.4/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../app/embed/form/%5BformId%5D/embeddable-form.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","\"use client\"\n\nimport { useState } from \"react\"\nimport type { FormConfig } from \"@/components/creative/form-builder\"\n\ninterface EmbeddableFormProps {\n  formId: string\n  config: FormConfig | null\n}\n\nexport function EmbeddableForm({ formId, config }: EmbeddableFormProps) {\n  const [formData, setFormData] = useState<Record<string, string>>({})\n  const [submitting, setSubmitting] = useState(false)\n  const [submitted, setSubmitted] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  if (!config) {\n    return (\n      <div style={{ padding: \"24px\", textAlign: \"center\", color: \"#94a3b8\" }}>\n        Form not configured\n      </div>\n    )\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setSubmitting(true)\n    setError(null)\n\n    try {\n      const response = await fetch(\"/api/embed/submit\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          formId,\n          data: formData,\n        }),\n      })\n\n      const result = await response.json()\n\n      if (!response.ok) {\n        throw new Error(result.error || \"Submission failed\")\n      }\n\n      setSubmitted(true)\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Something went wrong\")\n    } finally {\n      setSubmitting(false)\n    }\n  }\n\n  if (submitted) {\n    return (\n      <div\n        style={{\n          padding: \"48px 24px\",\n          textAlign: \"center\",\n          backgroundColor: config.backgroundColor,\n          fontFamily: config.fontFamily,\n        }}\n      >\n        <div\n          style={{\n            width: 64,\n            height: 64,\n            borderRadius: \"50%\",\n            backgroundColor: config.primaryColor + \"20\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            margin: \"0 auto 16px\",\n          }}\n        >\n          <svg\n            width=\"32\"\n            height=\"32\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke={config.primaryColor}\n            strokeWidth=\"2\"\n          >\n            <polyline points=\"20 6 9 17 4 12\" />\n          </svg>\n        </div>\n        <h3 style={{ fontSize: 20, fontWeight: 700, color: \"#1e293b\", marginBottom: 8 }}>\n          Success!\n        </h3>\n        <p style={{ color: \"#64748b\", fontSize: 14 }}>{config.successMessage}</p>\n      </div>\n    )\n  }\n\n  return (\n    <form\n      onSubmit={handleSubmit}\n      style={{\n        padding: \"32px\",\n        backgroundColor: config.backgroundColor,\n        fontFamily: config.fontFamily,\n        maxWidth: 500,\n        margin: \"0 auto\",\n      }}\n    >\n      {config.fields.map((field) => (\n        <div key={field.id} style={{ marginBottom: 20 }}>\n          <label\n            style={{\n              display: \"block\",\n              fontSize: 14,\n              fontWeight: 500,\n              color: \"#334155\",\n              marginBottom: 6,\n            }}\n          >\n            {field.label}\n            {field.required && <span style={{ color: \"#ef4444\" }}> *</span>}\n          </label>\n\n          {field.type === \"text\" && (\n            <input\n              type=\"text\"\n              name={field.id}\n              placeholder={field.placeholder}\n              required={field.required}\n              value={formData[field.id] || \"\"}\n              onChange={(e) => setFormData({ ...formData, [field.id]: e.target.value })}\n              style={{\n                width: \"100%\",\n                padding: \"12px 16px\",\n                border: \"1px solid #e2e8f0\",\n                borderRadius: 12,\n                fontSize: 14,\n                outline: \"none\",\n              }}\n            />\n          )}\n\n          {field.type === \"email\" && (\n            <input\n              type=\"email\"\n              name={field.id}\n              placeholder={field.placeholder || \"email@example.com\"}\n              required={field.required}\n              value={formData[field.id] || \"\"}\n              onChange={(e) => setFormData({ ...formData, [field.id]: e.target.value })}\n              style={{\n                width: \"100%\",\n                padding: \"12px 16px\",\n                border: \"1px solid #e2e8f0\",\n                borderRadius: 12,\n                fontSize: 14,\n                outline: \"none\",\n              }}\n            />\n          )}\n\n          {field.type === \"phone\" && (\n            <input\n              type=\"tel\"\n              name={field.id}\n              placeholder={field.placeholder || \"(555) 555-5555\"}\n              required={field.required}\n              value={formData[field.id] || \"\"}\n              onChange={(e) => setFormData({ ...formData, [field.id]: e.target.value })}\n              style={{\n                width: \"100%\",\n                padding: \"12px 16px\",\n                border: \"1px solid #e2e8f0\",\n                borderRadius: 12,\n                fontSize: 14,\n                outline: \"none\",\n              }}\n            />\n          )}\n\n          {field.type === \"textarea\" && (\n            <textarea\n              name={field.id}\n              placeholder={field.placeholder}\n              required={field.required}\n              rows={4}\n              value={formData[field.id] || \"\"}\n              onChange={(e) => setFormData({ ...formData, [field.id]: e.target.value })}\n              style={{\n                width: \"100%\",\n                padding: \"12px 16px\",\n                border: \"1px solid #e2e8f0\",\n                borderRadius: 12,\n                fontSize: 14,\n                outline: \"none\",\n                resize: \"vertical\",\n              }}\n            />\n          )}\n\n          {field.type === \"select\" && (\n            <select\n              name={field.id}\n              required={field.required}\n              value={formData[field.id] || \"\"}\n              onChange={(e) => setFormData({ ...formData, [field.id]: e.target.value })}\n              style={{\n                width: \"100%\",\n                padding: \"12px 16px\",\n                border: \"1px solid #e2e8f0\",\n                borderRadius: 12,\n                fontSize: 14,\n                outline: \"none\",\n                backgroundColor: \"#fff\",\n              }}\n            >\n              <option value=\"\">Select an option</option>\n              {field.options?.map((opt, i) => (\n                <option key={i} value={opt}>\n                  {opt}\n                </option>\n              ))}\n            </select>\n          )}\n\n          {field.type === \"radio\" && (\n            <div style={{ display: \"flex\", flexDirection: \"column\", gap: 8 }}>\n              {field.options?.map((opt, i) => (\n                <label\n                  key={i}\n                  style={{ display: \"flex\", alignItems: \"center\", gap: 8, fontSize: 14, color: \"#475569\" }}\n                >\n                  <input\n                    type=\"radio\"\n                    name={field.id}\n                    value={opt}\n                    required={field.required}\n                    checked={formData[field.id] === opt}\n                    onChange={(e) => setFormData({ ...formData, [field.id]: e.target.value })}\n                  />\n                  {opt}\n                </label>\n              ))}\n            </div>\n          )}\n\n          {field.type === \"checkbox\" && (\n            <label\n              style={{ display: \"flex\", alignItems: \"center\", gap: 8, fontSize: 14, color: \"#475569\" }}\n            >\n              <input\n                type=\"checkbox\"\n                name={field.id}\n                checked={formData[field.id] === \"true\"}\n                onChange={(e) => setFormData({ ...formData, [field.id]: e.target.checked ? \"true\" : \"\" })}\n              />\n              {field.options?.[0] || \"I agree\"}\n            </label>\n          )}\n        </div>\n      ))}\n\n      {error && (\n        <div\n          style={{\n            padding: \"12px 16px\",\n            backgroundColor: \"#fef2f2\",\n            border: \"1px solid #fecaca\",\n            borderRadius: 12,\n            color: \"#dc2626\",\n            fontSize: 14,\n            marginBottom: 20,\n          }}\n        >\n          {error}\n        </div>\n      )}\n\n      <button\n        type=\"submit\"\n        disabled={submitting}\n        style={{\n          width: \"100%\",\n          padding: \"14px 24px\",\n          backgroundColor: submitting ? \"#94a3b8\" : config.primaryColor,\n          color: \"#fff\",\n          border: \"none\",\n          borderRadius: 12,\n          fontSize: 16,\n          fontWeight: 600,\n          cursor: submitting ? \"not-allowed\" : \"pointer\",\n        }}\n      >\n        {submitting ? \"Submitting...\" : config.submitButtonText}\n      </button>\n    </form>\n  )\n}\n"],"names":["module","exports","require","vendored","ReactJsxRuntime"],"mappings":"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","ignoreList":[0]}