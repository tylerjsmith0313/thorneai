module.exports=[29950,a=>{"use strict";var b=a.i(94342),c=a.i(365),d=a.i(40695),e=a.i(3130),f=a.i(5522),g=a.i(17171),h=a.i(80281),i=a.i(21958),j=a.i(54161),k=a.i(7706),l=a.i(87682),m=a.i(65733),n=a.i(32703),o=a.i(69065),p=a.i(64352),q=a.i(39752),r=a.i(71306),s=a.i(47979),t=a.i(14799),u=a.i(16605),v=a.i(54054),w=a.i(76945),x=a.i(72016),y=a.i(2807),z=a.i(88064),A=a.i(12882),B=a.i(67837),C=a.i(44447),D=a.i(50910),E=a.i(46893),F=a.i(14227),G=a.i(69240);let H=[{id:"starter",name:"Starter",description:"Perfect for small teams getting started",pricePerSeatCents:2900,features:["Up to 500 contacts","Basic AI assistance","Email integration","Standard support"],maxSeats:5},{id:"professional",name:"Professional",description:"For growing teams that need more power",pricePerSeatCents:7900,features:["Up to 5,000 contacts","Advanced AI with Thorne","Multi-channel outreach","Priority support","Custom workflows"],maxSeats:25},{id:"enterprise",name:"Enterprise",description:"Full power for large organizations",pricePerSeatCents:14900,features:["Unlimited contacts","Full Thorne AI suite","All integrations","Dedicated support","Custom training","API access"],maxSeats:100}];function I(a){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a/100)}var J=a.i(90315);let K=(0,J.createServerReference)("603bf032a109c14539a49fef96f434a85e2bc4e34e",J.callServer,void 0,J.findSourceMapURL,"createBillingPortalSession");function L(){var a;let[J,L]=(0,c.useState)(null),[M,N]=(0,c.useState)([]),[O,P]=(0,c.useState)([]),[Q,R]=(0,c.useState)(!0),[S,T]=(0,c.useState)("organization"),[U,V]=(0,c.useState)(!1),[W,X]=(0,c.useState)(""),[Y,Z]=(0,c.useState)("user"),[$,_]=(0,c.useState)(!1),[aa,ab]=(0,c.useState)(""),[ac,ad]=(0,c.useState)(!1),[ae,af]=(0,c.useState)([]),[ag,ah]=(0,c.useState)(!1),[ai,aj]=(0,c.useState)(""),[ak,al]=(0,c.useState)("Hi there! How can I help you today?"),[am,an]=(0,c.useState)("#6366f1"),[ao,ap]=(0,c.useState)(""),[aq,ar]=(0,c.useState)(!1),[as,at]=(0,c.useState)(null),au=(0,G.createClient)();async function av(){R(!0);let{data:a}=await au.from("tenants").select("*").limit(1).single();a&&(L(a),ab(a.name));let{data:b}=await au.from("tenant_users").select("*").order("is_owner",{ascending:!1}).order("role",{ascending:!0}).order("joined_at",{ascending:!0});b&&N(b);let{data:c}=await au.from("invitations").select("*").is("accepted_at",null).order("created_at",{ascending:!1});c&&P(c);let{data:d}=await au.from("widget_chatbots").select("*").order("created_at",{ascending:!1});d&&af(d),R(!1)}async function aw(){J&&(ad(!0),await au.from("tenants").update({name:aa,updated_at:new Date().toISOString()}).eq("id",J.id),L({...J,name:aa}),ad(!1))}async function ax(){if(!J||!W.trim())return;if(_(!0),M.length+O.length>=J.max_seats){alert("You've reached your seat limit. Please upgrade your plan to add more users."),_(!1);return}let{error:a}=await au.from("invitations").insert({tenant_id:J.id,email:W.toLowerCase().trim(),role:Y,invited_by:"00000000-0000-0000-0000-000000000000"});a?(console.error("[v0] Failed to create invitation:",a),alert("Failed to send invitation. The email may already be invited.")):(V(!1),X(""),Z("user"),av()),_(!1)}async function ay(a){await au.from("invitations").delete().eq("id",a),P(O.filter(b=>b.id!==a))}async function az(a,b){await au.from("tenant_users").update({role:b}).eq("id",a),N(M.map(c=>c.id===a?{...c,role:b}:c))}async function aA(a){confirm("Are you sure you want to remove this user?")&&(await au.from("tenant_users").delete().eq("id",a),N(M.filter(b=>b.id!==a)))}async function aB(){if(!J?.stripe_customer_id)return;let a=await K(J.stripe_customer_id,window.location.href);a.url&&(window.location.href=a.url)}async function aC(){if(ai.trim()){ar(!0);try{let a=await fetch("/api/widget/chatbots",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:ai,welcomeMessage:ak,aiInstructions:ao||null,themeColor:am})}),b=await a.json();b.chatbot&&(af([b.chatbot,...ae]),ah(!1),aj(""),al("Hi there! How can I help you today?"),an("#6366f1"),ap(""))}catch(a){console.error("[v0] Error creating chatbot:",a)}ar(!1)}}async function aD(a){let b=!a.is_active;af(ae.map(c=>c.id===a.id?{...c,is_active:b}:c)),await fetch("/api/widget/chatbots",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.id,isActive:b})})}async function aE(a){confirm("Are you sure you want to delete this chatbot? All chat history will be lost.")&&(await fetch(`/api/widget/chatbots?id=${a}`,{method:"DELETE"}),af(ae.filter(b=>b.id!==a)))}(0,c.useEffect)(()=>{av()},[]);let aF=J?(a=J.plan,H.find(b=>b.id===a)):null,aG=M.length,aH=O.length;return Q?(0,b.jsx)("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:(0,b.jsx)(z.Loader2,{className:"h-8 w-8 animate-spin text-violet-600"})}):(0,b.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,b.jsx)("div",{className:"bg-white border-b border-slate-200",children:(0,b.jsx)("div",{className:"max-w-6xl mx-auto px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(F.default,{href:"/",children:(0,b.jsxs)(d.Button,{variant:"ghost",size:"sm",className:"gap-2",children:[(0,b.jsx)(w.ArrowLeft,{size:16}),"Back to Dashboard"]})}),(0,b.jsx)("div",{className:"h-6 w-px bg-slate-200"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded-lg bg-violet-100 flex items-center justify-center",children:(0,b.jsx)(n.Settings,{className:"h-5 w-5 text-violet-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-lg font-semibold text-slate-900",children:"Admin Settings"}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:J?.name||"Organization"})]})]})]})})}),(0,b.jsx)("div",{className:"max-w-6xl mx-auto px-6 py-8",children:(0,b.jsxs)(i.Tabs,{value:S,onValueChange:T,className:"space-y-6",children:[(0,b.jsxs)(i.TabsList,{className:"bg-white border border-slate-200 p-1",children:[(0,b.jsxs)(i.TabsTrigger,{value:"organization",className:"gap-2",children:[(0,b.jsx)(r.Building2,{size:16}),"Organization"]}),(0,b.jsxs)(i.TabsTrigger,{value:"team",className:"gap-2",children:[(0,b.jsx)(o.Users,{size:16}),"Team Members"]}),(0,b.jsxs)(i.TabsTrigger,{value:"permissions",className:"gap-2",children:[(0,b.jsx)(q.Shield,{size:16}),"Permissions"]}),(0,b.jsxs)(i.TabsTrigger,{value:"billing",className:"gap-2",children:[(0,b.jsx)(p.CreditCard,{size:16}),"Billing"]}),(0,b.jsxs)(i.TabsTrigger,{value:"widget",className:"gap-2",children:[(0,b.jsx)(A.MessageSquare,{size:16}),"Chat Widget"]})]}),(0,b.jsx)(i.TabsContent,{value:"organization",className:"space-y-6",children:(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Organization Details"}),(0,b.jsx)(e.CardDescription,{children:"Manage your organization's basic information"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 max-w-md",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"org-name",children:"Organization Name"}),(0,b.jsx)(f.Input,{id:"org-name",value:aa,onChange:a=>ab(a.target.value),placeholder:"Your Company Name"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Organization Slug"}),(0,b.jsx)(f.Input,{value:J?.slug||"",disabled:!0,className:"bg-slate-50"}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Used in URLs and cannot be changed"})]})]}),(0,b.jsxs)(d.Button,{onClick:aw,disabled:ac||aa===J?.name,children:[ac?(0,b.jsx)(z.Loader2,{className:"h-4 w-4 animate-spin mr-2"}):null,"Save Changes"]})]})]})}),(0,b.jsx)(i.TabsContent,{value:"team",className:"space-y-6",children:(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{children:"Team Members"}),(0,b.jsxs)(e.CardDescription,{children:[aG," of ",J?.max_seats," seats used",aH>0&&` (${aH} pending)`]})]}),(0,b.jsxs)(d.Button,{onClick:()=>V(!0),className:"gap-2",children:[(0,b.jsx)(t.UserPlus,{size:16}),"Invite Member"]})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-3",children:[M.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(k.Avatar,{className:"h-10 w-10",children:(0,b.jsx)(k.AvatarFallback,{className:"bg-violet-100 text-violet-700",children:a.full_name?.[0]||a.email[0].toUpperCase()})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"font-medium text-slate-900",children:a.full_name||a.email}),a.is_owner&&(0,b.jsxs)(j.Badge,{variant:"secondary",className:"gap-1 text-amber-700 bg-amber-50",children:[(0,b.jsx)(v.Crown,{size:12}),"Owner"]})]}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:a.email})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[!a.is_owner&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(l.Select,{value:a.role,onValueChange:b=>az(a.id,b),children:[(0,b.jsx)(l.SelectTrigger,{className:"w-28",children:(0,b.jsx)(l.SelectValue,{})}),(0,b.jsxs)(l.SelectContent,{children:[(0,b.jsx)(l.SelectItem,{value:"admin",children:"Admin"}),(0,b.jsx)(l.SelectItem,{value:"user",children:"User"})]})]}),(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>aA(a.id),children:(0,b.jsx)(u.Trash2,{size:16})})]}),a.is_owner&&(0,b.jsx)(j.Badge,{className:"bg-violet-100 text-violet-700",children:"Admin"})]})]},a.id)),O.length>0&&(0,b.jsxs)("div",{className:"pt-4 border-t border-slate-200 mt-4",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-slate-700 mb-3",children:"Pending Invitations"}),O.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-amber-50 rounded-lg mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(k.Avatar,{className:"h-10 w-10",children:(0,b.jsx)(k.AvatarFallback,{className:"bg-amber-100 text-amber-700",children:(0,b.jsx)(s.Mail,{size:16})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-slate-900",children:a.email}),(0,b.jsxs)("p",{className:"text-sm text-amber-600",children:["Invitation pending - expires"," ",new Date(a.expires_at).toLocaleDateString()]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(j.Badge,{variant:"outline",children:a.role}),(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>ay(a.id),children:(0,b.jsx)(y.X,{size:16})})]})]},a.id))]})]})})]})}),(0,b.jsxs)(i.TabsContent,{value:"permissions",className:"space-y-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Data Visibility Settings"}),(0,b.jsx)(e.CardDescription,{children:"Control what data users can see and access"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-slate-100",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-slate-900",children:"Users can see all contacts"}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Allow users to view contacts assigned to other team members"})]}),(0,b.jsx)(h.Switch,{defaultChecked:!0})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-slate-100",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-slate-900",children:"Users can see all deals"}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Allow users to view deals created by other team members"})]}),(0,b.jsx)(h.Switch,{defaultChecked:!0})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-slate-100",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-slate-900",children:"Users can export data"}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Allow users to export contacts and deals to CSV"})]}),(0,b.jsx)(h.Switch,{})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between py-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-slate-900",children:"Users can delete records"}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Allow users to delete contacts and deals they own"})]}),(0,b.jsx)(h.Switch,{})]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Role Permissions"}),(0,b.jsx)(e.CardDescription,{children:"Overview of what each role can do"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"p-4 bg-violet-50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(q.Shield,{className:"h-5 w-5 text-violet-600"}),(0,b.jsx)("h4",{className:"font-semibold text-violet-900",children:"Admin"})]}),(0,b.jsxs)("ul",{className:"space-y-2 text-sm text-violet-800",children:[(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(x.Check,{size:14})," Manage organization settings"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(x.Check,{size:14})," Invite and remove team members"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(x.Check,{size:14})," Change user roles"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(x.Check,{size:14})," Manage billing and subscription"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(x.Check,{size:14})," Access all data"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(x.Check,{size:14})," Configure integrations"]})]})]}),(0,b.jsxs)("div",{className:"p-4 bg-slate-100 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(o.Users,{className:"h-5 w-5 text-slate-600"}),(0,b.jsx)("h4",{className:"font-semibold text-slate-900",children:"User"})]}),(0,b.jsxs)("ul",{className:"space-y-2 text-sm text-slate-700",children:[(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(x.Check,{size:14})," View assigned contacts"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(x.Check,{size:14})," Create and manage own deals"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(x.Check,{size:14})," Use Thorne AI assistant"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(x.Check,{size:14})," Send messages and emails"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(y.X,{size:14,className:"text-red-500"})," Cannot manage team"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(y.X,{size:14,className:"text-red-500"})," Cannot access billing"]})]})]})]})})]})]}),(0,b.jsxs)(i.TabsContent,{value:"billing",className:"space-y-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Current Plan"}),(0,b.jsx)(e.CardDescription,{children:"Manage your subscription and billing"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsxs)("div",{className:"flex items-start justify-between p-6 bg-gradient-to-r from-violet-50 to-indigo-50 rounded-xl",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Badge,{className:"mb-2 bg-violet-600",children:aF?.name||"Starter"}),(0,b.jsxs)("h3",{className:"text-2xl font-bold text-slate-900",children:[I((aF?.pricePerSeatCents||0)*(J?.seat_count||1)),(0,b.jsx)("span",{className:"text-base font-normal text-slate-500",children:"/month"})]}),(0,b.jsxs)("p",{className:"text-sm text-slate-600 mt-1",children:[I(aF?.pricePerSeatCents||0)," per seat x ",J?.seat_count||1," seats"]}),(0,b.jsx)("div",{className:"mt-4 flex items-center gap-2",children:(0,b.jsx)(j.Badge,{variant:"outline",className:J?.subscription_status==="active"?"text-emerald-600 border-emerald-200 bg-emerald-50":"text-amber-600 border-amber-200 bg-amber-50",children:J?.subscription_status||"trialing"})})]}),(0,b.jsx)(d.Button,{onClick:aB,variant:"outline",children:"Manage Billing"})]}),(0,b.jsxs)("div",{className:"mt-6",children:[(0,b.jsx)("h4",{className:"font-medium text-slate-900 mb-3",children:"Plan Features"}),(0,b.jsx)("ul",{className:"grid md:grid-cols-2 gap-2",children:aF?.features.map(a=>(0,b.jsxs)("li",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,b.jsx)(x.Check,{size:16,className:"text-emerald-500"}),a]},a))})]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Available Plans"}),(0,b.jsx)(e.CardDescription,{children:"Upgrade or downgrade your subscription"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"grid md:grid-cols-3 gap-4",children:H.map(a=>(0,b.jsxs)("div",{className:`p-4 rounded-lg border-2 ${a.id===J?.plan?"border-violet-500 bg-violet-50":"border-slate-200"}`,children:[(0,b.jsx)("h4",{className:"font-semibold text-slate-900",children:a.name}),(0,b.jsxs)("p",{className:"text-2xl font-bold mt-1",children:[I(a.pricePerSeatCents),(0,b.jsx)("span",{className:"text-sm font-normal text-slate-500",children:"/seat/mo"})]}),(0,b.jsxs)("p",{className:"text-sm text-slate-500 mt-1",children:["Up to ",a.maxSeats," seats"]}),a.id===J?.plan?(0,b.jsx)(j.Badge,{className:"mt-3 bg-violet-600",children:"Current Plan"}):(0,b.jsx)(d.Button,{variant:"outline",size:"sm",className:"mt-3 w-full bg-transparent",onClick:aB,children:a.pricePerSeatCents>(aF?.pricePerSeatCents||0)?"Upgrade":"Downgrade"})]},a.id))})})]})]}),(0,b.jsxs)(i.TabsContent,{value:"widget",className:"space-y-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{children:"Chat Widgets"}),(0,b.jsx)(e.CardDescription,{children:"Create embeddable chat widgets for your website to capture leads and engage visitors"})]}),(0,b.jsxs)(d.Button,{onClick:()=>ah(!0),className:"gap-2",children:[(0,b.jsx)(B.Plus,{size:16}),"Create Widget"]})]}),(0,b.jsx)(e.CardContent,{children:0===ae.length?(0,b.jsxs)("div",{className:"text-center py-12 bg-slate-50 rounded-lg",children:[(0,b.jsx)(A.MessageSquare,{className:"h-12 w-12 text-slate-300 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"font-medium text-slate-900 mb-1",children:"No chat widgets yet"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 mb-4",children:"Create your first widget to start capturing leads from your website"}),(0,b.jsxs)(d.Button,{onClick:()=>ah(!0),className:"gap-2",children:[(0,b.jsx)(B.Plus,{size:16}),"Create Your First Widget"]})]}):(0,b.jsx)("div",{className:"space-y-4",children:ae.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:a.theme_color},children:(0,b.jsx)(A.MessageSquare,{className:"text-white",size:24})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"font-semibold text-slate-900",children:a.name}),(0,b.jsx)(j.Badge,{variant:"outline",className:a.is_active?"text-emerald-600 border-emerald-200 bg-emerald-50":"text-slate-500",children:a.is_active?"Active":"Inactive"})]}),(0,b.jsx)("p",{className:"text-sm text-slate-500 mt-0.5",children:a.welcome_message})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.Button,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>{navigator.clipboard.writeText(`<script src="/api/widget/embed.js?id=${a.id}" async></script>`),at(a.id),setTimeout(()=>at(null),2e3)},children:as===a.id?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(D.CheckCircle,{size:14,className:"text-emerald-500"}),"Copied!"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(C.Code,{size:14}),"Get Code"]})}),(0,b.jsx)(h.Switch,{checked:a.is_active,onCheckedChange:()=>aD(a)}),(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>aE(a.id),children:(0,b.jsx)(u.Trash2,{size:16})})]})]},a.id))})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"How to Install"}),(0,b.jsx)(e.CardDescription,{children:"Add the chat widget to your website in just a few steps"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-violet-50 rounded-lg",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-violet-600 text-white flex items-center justify-center font-semibold text-sm shrink-0",children:"1"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium text-slate-900",children:"Create a widget"}),(0,b.jsx)("p",{className:"text-sm text-slate-600",children:'Click "Create Widget" to set up a new chat widget with your custom branding and welcome message.'})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-violet-50 rounded-lg",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-violet-600 text-white flex items-center justify-center font-semibold text-sm shrink-0",children:"2"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium text-slate-900",children:"Copy the embed code"}),(0,b.jsx)("p",{className:"text-sm text-slate-600",children:'Click "Get Code" to copy the HTML snippet for your widget.'})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-violet-50 rounded-lg",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-violet-600 text-white flex items-center justify-center font-semibold text-sm shrink-0",children:"3"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"font-medium text-slate-900",children:["Paste before ","</body>"]}),(0,b.jsxs)("p",{className:"text-sm text-slate-600",children:["Add the code snippet to your website, just before the closing ","</body>"," tag. The widget will appear automatically."]})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-emerald-50 rounded-lg",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-emerald-600 text-white flex items-center justify-center font-semibold text-sm shrink-0",children:(0,b.jsx)(x.Check,{size:16})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium text-slate-900",children:"Start chatting!"}),(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"Messages from visitors will appear in real-time in your dashboard. You can reply directly from the contact's chat panel."})]})]})]})]})]})]})}),(0,b.jsx)(m.Dialog,{open:ag,onOpenChange:ah,children:(0,b.jsxs)(m.DialogContent,{className:"sm:max-w-md",children:[(0,b.jsxs)(m.DialogHeader,{children:[(0,b.jsx)(m.DialogTitle,{children:"Create Chat Widget"}),(0,b.jsx)(m.DialogDescription,{children:"Set up a new embeddable chat widget for your website"})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"chatbot-name",children:"Widget Name"}),(0,b.jsx)(f.Input,{id:"chatbot-name",placeholder:"e.g., Main Website, Landing Page",value:ai,onChange:a=>aj(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"chatbot-welcome",children:"Welcome Message"}),(0,b.jsx)(E.Textarea,{id:"chatbot-welcome",placeholder:"Hi there! How can I help you today?",value:ak,onChange:a=>al(a.target.value),rows:2})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"chatbot-color",children:"Theme Color"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("input",{type:"color",id:"chatbot-color",value:am,onChange:a=>an(a.target.value),className:"w-12 h-10 rounded border border-slate-200 cursor-pointer"}),(0,b.jsx)(f.Input,{value:am,onChange:a=>an(a.target.value),className:"flex-1"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"chatbot-instructions",children:"AI Instructions (Optional)"}),(0,b.jsx)(E.Textarea,{id:"chatbot-instructions",placeholder:"Custom instructions for how the AI should respond to visitors...",value:ao,onChange:a=>ap(a.target.value),rows:3}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"These instructions will guide the AI when auto-responding to visitors"})]})]}),(0,b.jsxs)(m.DialogFooter,{children:[(0,b.jsx)(d.Button,{variant:"outline",onClick:()=>ah(!1),children:"Cancel"}),(0,b.jsxs)(d.Button,{onClick:aC,disabled:aq||!ai.trim(),children:[aq?(0,b.jsx)(z.Loader2,{className:"h-4 w-4 animate-spin mr-2"}):null,"Create Widget"]})]})]})}),(0,b.jsx)(m.Dialog,{open:U,onOpenChange:V,children:(0,b.jsxs)(m.DialogContent,{children:[(0,b.jsxs)(m.DialogHeader,{children:[(0,b.jsx)(m.DialogTitle,{children:"Invite Team Member"}),(0,b.jsx)(m.DialogDescription,{children:"Send an invitation to join your organization"})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"invite-email",children:"Email Address"}),(0,b.jsx)(f.Input,{id:"invite-email",type:"email",placeholder:"colleague@company.com",value:W,onChange:a=>X(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"invite-role",children:"Role"}),(0,b.jsxs)(l.Select,{value:Y,onValueChange:a=>Z(a),children:[(0,b.jsx)(l.SelectTrigger,{children:(0,b.jsx)(l.SelectValue,{})}),(0,b.jsxs)(l.SelectContent,{children:[(0,b.jsx)(l.SelectItem,{value:"user",children:"User - Can manage their assigned contacts"}),(0,b.jsx)(l.SelectItem,{value:"admin",children:"Admin - Full access to all settings"})]})]})]}),aG+aH>=(J?.max_seats||0)&&(0,b.jsx)("p",{className:"text-sm text-amber-600 bg-amber-50 p-3 rounded-lg",children:"You've reached your seat limit. Upgrade your plan to invite more team members."})]}),(0,b.jsxs)(m.DialogFooter,{children:[(0,b.jsx)(d.Button,{variant:"outline",onClick:()=>V(!1),children:"Cancel"}),(0,b.jsxs)(d.Button,{onClick:ax,disabled:$||!W.trim()||aG+aH>=(J?.max_seats||0),children:[$?(0,b.jsx)(z.Loader2,{className:"h-4 w-4 animate-spin mr-2"}):null,"Send Invitation"]})]})]})})]})}a.s(["AdminSettingsClient",()=>L],29950)}];

//# sourceMappingURL=app_admin_settings_admin-settings-client_tsx_6f6158d0._.js.map