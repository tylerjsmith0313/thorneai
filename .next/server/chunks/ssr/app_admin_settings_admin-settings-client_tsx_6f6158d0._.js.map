{"version":3,"sources":["../../../../app/admin/settings/admin-settings-client.tsx","../../../../lib/subscription-products.ts","../../../../app/actions/data%3A0f3125%20%3Ctext/javascript%3E"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Switch } from \"@/components/ui/switch\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\"\nimport {\n  Settings,\n  Users,\n  CreditCard,\n  Shield,\n  Building2,\n  Mail,\n  UserPlus,\n  Trash2,\n  Crown,\n  ArrowLeft,\n  Check,\n  X,\n  Loader2,\n  MessageSquare,\n  Copy,\n  Plus,\n  Code,\n  Palette,\n  CheckCircle,\n} from \"lucide-react\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport Link from \"next/link\"\nimport { createClient } from \"@/lib/supabase/client\"\nimport { SUBSCRIPTION_PLANS, formatPrice, getPlanById } from \"@/lib/subscription-products\"\nimport { createBillingPortalSession, updateSubscriptionSeats } from \"@/app/actions/stripe\"\n\ninterface TenantUser {\n  id: string\n  email: string\n  full_name: string | null\n  role: \"admin\" | \"user\"\n  is_owner: boolean\n  joined_at: string\n  last_active_at: string | null\n}\n\ninterface Tenant {\n  id: string\n  name: string\n  slug: string\n  stripe_customer_id: string | null\n  stripe_subscription_id: string | null\n  subscription_status: string\n  plan: string\n  seat_count: number\n  max_seats: number\n  settings: Record<string, any>\n}\n\ninterface Invitation {\n  id: string\n  email: string\n  role: \"admin\" | \"user\"\n  expires_at: string\n  created_at: string\n}\n\ninterface WidgetChatbot {\n  id: string\n  name: string\n  welcome_message: string\n  ai_instructions: string | null\n  theme_color: string\n  is_active: boolean\n  embed_key: string\n  created_at: string\n}\n\nexport function AdminSettingsClient() {\n  const [tenant, setTenant] = useState<Tenant | null>(null)\n  const [users, setUsers] = useState<TenantUser[]>([])\n  const [invitations, setInvitations] = useState<Invitation[]>([])\n  const [loading, setLoading] = useState(true)\n  const [activeTab, setActiveTab] = useState(\"organization\")\n  \n  // Invite modal state\n  const [showInviteModal, setShowInviteModal] = useState(false)\n  const [inviteEmail, setInviteEmail] = useState(\"\")\n  const [inviteRole, setInviteRole] = useState<\"admin\" | \"user\">(\"user\")\n  const [inviting, setInviting] = useState(false)\n  \n  // Settings state\n  const [tenantName, setTenantName] = useState(\"\")\n  const [savingSettings, setSavingSettings] = useState(false)\n  \n  // Widget state\n  const [chatbots, setChatbots] = useState<WidgetChatbot[]>([])\n  const [showCreateChatbot, setShowCreateChatbot] = useState(false)\n  const [newChatbotName, setNewChatbotName] = useState(\"\")\n  const [newChatbotWelcome, setNewChatbotWelcome] = useState(\"Hi there! How can I help you today?\")\n  const [newChatbotColor, setNewChatbotColor] = useState(\"#6366f1\")\n  const [newChatbotInstructions, setNewChatbotInstructions] = useState(\"\")\n  const [creatingChatbot, setCreatingChatbot] = useState(false)\n  const [copiedId, setCopiedId] = useState<string | null>(null)\n\n  const supabase = createClient()\n\n  useEffect(() => {\n    loadData()\n  }, [])\n\n  async function loadData() {\n    setLoading(true)\n    \n    // Load tenant\n    const { data: tenantData } = await supabase\n      .from(\"tenants\")\n      .select(\"*\")\n      .limit(1)\n      .single()\n    \n    if (tenantData) {\n      setTenant(tenantData)\n      setTenantName(tenantData.name)\n    }\n\n    // Load users\n    const { data: usersData } = await supabase\n      .from(\"tenant_users\")\n      .select(\"*\")\n      .order(\"is_owner\", { ascending: false })\n      .order(\"role\", { ascending: true })\n      .order(\"joined_at\", { ascending: true })\n    \n    if (usersData) {\n      setUsers(usersData)\n    }\n\n    // Load pending invitations\n    const { data: invitesData } = await supabase\n      .from(\"invitations\")\n      .select(\"*\")\n      .is(\"accepted_at\", null)\n      .order(\"created_at\", { ascending: false })\n    \n    if (invitesData) {\n      setInvitations(invitesData)\n    }\n\n    // Load chatbots\n    const { data: chatbotsData } = await supabase\n      .from(\"widget_chatbots\")\n      .select(\"*\")\n      .order(\"created_at\", { ascending: false })\n    \n    if (chatbotsData) {\n      setChatbots(chatbotsData)\n    }\n\n    setLoading(false)\n  }\n\n  async function handleSaveOrganization() {\n    if (!tenant) return\n    setSavingSettings(true)\n    \n    await supabase\n      .from(\"tenants\")\n      .update({ name: tenantName, updated_at: new Date().toISOString() })\n      .eq(\"id\", tenant.id)\n    \n    setTenant({ ...tenant, name: tenantName })\n    setSavingSettings(false)\n  }\n\n  async function handleInviteUser() {\n    if (!tenant || !inviteEmail.trim()) return\n    setInviting(true)\n\n    // Check seat limit\n    const totalUsers = users.length + invitations.length\n    if (totalUsers >= tenant.max_seats) {\n      alert(\"You've reached your seat limit. Please upgrade your plan to add more users.\")\n      setInviting(false)\n      return\n    }\n\n    const { error } = await supabase.from(\"invitations\").insert({\n      tenant_id: tenant.id,\n      email: inviteEmail.toLowerCase().trim(),\n      role: inviteRole,\n      invited_by: \"00000000-0000-0000-0000-000000000000\", // Preview user\n    })\n\n    if (error) {\n      console.error(\"[v0] Failed to create invitation:\", error)\n      alert(\"Failed to send invitation. The email may already be invited.\")\n    } else {\n      setShowInviteModal(false)\n      setInviteEmail(\"\")\n      setInviteRole(\"user\")\n      loadData()\n    }\n    setInviting(false)\n  }\n\n  async function handleRevokeInvitation(invitationId: string) {\n    await supabase.from(\"invitations\").delete().eq(\"id\", invitationId)\n    setInvitations(invitations.filter((i) => i.id !== invitationId))\n  }\n\n  async function handleUpdateUserRole(userId: string, newRole: \"admin\" | \"user\") {\n    await supabase\n      .from(\"tenant_users\")\n      .update({ role: newRole })\n      .eq(\"id\", userId)\n    \n    setUsers(users.map((u) => (u.id === userId ? { ...u, role: newRole } : u)))\n  }\n\n  async function handleRemoveUser(userId: string) {\n    if (!confirm(\"Are you sure you want to remove this user?\")) return\n    \n    await supabase.from(\"tenant_users\").delete().eq(\"id\", userId)\n    setUsers(users.filter((u) => u.id !== userId))\n  }\n\n  async function handleManageBilling() {\n    if (!tenant?.stripe_customer_id) return\n    \n    const result = await createBillingPortalSession(\n      tenant.stripe_customer_id,\n      window.location.href\n    )\n    \n    if (result.url) {\n      window.location.href = result.url\n    }\n  }\n\n  async function handleCreateChatbot() {\n    if (!newChatbotName.trim()) return\n    setCreatingChatbot(true)\n\n    try {\n      const res = await fetch(\"/api/widget/chatbots\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          name: newChatbotName,\n          welcomeMessage: newChatbotWelcome,\n          aiInstructions: newChatbotInstructions || null,\n          themeColor: newChatbotColor,\n        }),\n      })\n\n      const data = await res.json()\n      if (data.chatbot) {\n        setChatbots([data.chatbot, ...chatbots])\n        setShowCreateChatbot(false)\n        setNewChatbotName(\"\")\n        setNewChatbotWelcome(\"Hi there! How can I help you today?\")\n        setNewChatbotColor(\"#6366f1\")\n        setNewChatbotInstructions(\"\")\n      }\n    } catch (error) {\n      console.error(\"[v0] Error creating chatbot:\", error)\n    }\n    setCreatingChatbot(false)\n  }\n\n  async function handleToggleChatbot(chatbot: WidgetChatbot) {\n    const newStatus = !chatbot.is_active\n    setChatbots(chatbots.map(c => c.id === chatbot.id ? { ...c, is_active: newStatus } : c))\n    \n    await fetch(\"/api/widget/chatbots\", {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ id: chatbot.id, isActive: newStatus }),\n    })\n  }\n\n  async function handleDeleteChatbot(chatbotId: string) {\n    if (!confirm(\"Are you sure you want to delete this chatbot? All chat history will be lost.\")) return\n    \n    await fetch(`/api/widget/chatbots?id=${chatbotId}`, { method: \"DELETE\" })\n    setChatbots(chatbots.filter(c => c.id !== chatbotId))\n  }\n\n  function getEmbedCode(chatbot: WidgetChatbot) {\n    const baseUrl = typeof window !== \"undefined\" ? window.location.origin : \"\"\n    return `<script src=\"${baseUrl}/api/widget/embed.js?id=${chatbot.id}\" async></script>`\n  }\n\n  function copyEmbedCode(chatbot: WidgetChatbot) {\n    navigator.clipboard.writeText(getEmbedCode(chatbot))\n    setCopiedId(chatbot.id)\n    setTimeout(() => setCopiedId(null), 2000)\n  }\n\n  const plan = tenant ? getPlanById(tenant.plan) : null\n  const usedSeats = users.length\n  const pendingSeats = invitations.length\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-slate-50 flex items-center justify-center\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-violet-600\" />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-slate-50\">\n      {/* Header */}\n      <div className=\"bg-white border-b border-slate-200\">\n        <div className=\"max-w-6xl mx-auto px-6 py-4\">\n          <div className=\"flex items-center gap-4\">\n            <Link href=\"/\">\n              <Button variant=\"ghost\" size=\"sm\" className=\"gap-2\">\n                <ArrowLeft size={16} />\n                Back to Dashboard\n              </Button>\n            </Link>\n            <div className=\"h-6 w-px bg-slate-200\" />\n            <div className=\"flex items-center gap-3\">\n              <div className=\"h-10 w-10 rounded-lg bg-violet-100 flex items-center justify-center\">\n                <Settings className=\"h-5 w-5 text-violet-600\" />\n              </div>\n              <div>\n                <h1 className=\"text-lg font-semibold text-slate-900\">Admin Settings</h1>\n                <p className=\"text-sm text-slate-500\">{tenant?.name || \"Organization\"}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"max-w-6xl mx-auto px-6 py-8\">\n        <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\n          <TabsList className=\"bg-white border border-slate-200 p-1\">\n            <TabsTrigger value=\"organization\" className=\"gap-2\">\n              <Building2 size={16} />\n              Organization\n            </TabsTrigger>\n            <TabsTrigger value=\"team\" className=\"gap-2\">\n              <Users size={16} />\n              Team Members\n            </TabsTrigger>\n            <TabsTrigger value=\"permissions\" className=\"gap-2\">\n              <Shield size={16} />\n              Permissions\n            </TabsTrigger>\n            <TabsTrigger value=\"billing\" className=\"gap-2\">\n              <CreditCard size={16} />\n              Billing\n            </TabsTrigger>\n            <TabsTrigger value=\"widget\" className=\"gap-2\">\n              <MessageSquare size={16} />\n              Chat Widget\n            </TabsTrigger>\n          </TabsList>\n\n          {/* Organization Tab */}\n          <TabsContent value=\"organization\" className=\"space-y-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Organization Details</CardTitle>\n                <CardDescription>\n                  Manage your organization's basic information\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"grid gap-4 max-w-md\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"org-name\">Organization Name</Label>\n                    <Input\n                      id=\"org-name\"\n                      value={tenantName}\n                      onChange={(e) => setTenantName(e.target.value)}\n                      placeholder=\"Your Company Name\"\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label>Organization Slug</Label>\n                    <Input value={tenant?.slug || \"\"} disabled className=\"bg-slate-50\" />\n                    <p className=\"text-xs text-slate-500\">\n                      Used in URLs and cannot be changed\n                    </p>\n                  </div>\n                </div>\n                <Button\n                  onClick={handleSaveOrganization}\n                  disabled={savingSettings || tenantName === tenant?.name}\n                >\n                  {savingSettings ? (\n                    <Loader2 className=\"h-4 w-4 animate-spin mr-2\" />\n                  ) : null}\n                  Save Changes\n                </Button>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          {/* Team Members Tab */}\n          <TabsContent value=\"team\" className=\"space-y-6\">\n            <Card>\n              <CardHeader className=\"flex flex-row items-center justify-between\">\n                <div>\n                  <CardTitle>Team Members</CardTitle>\n                  <CardDescription>\n                    {usedSeats} of {tenant?.max_seats} seats used\n                    {pendingSeats > 0 && ` (${pendingSeats} pending)`}\n                  </CardDescription>\n                </div>\n                <Button onClick={() => setShowInviteModal(true)} className=\"gap-2\">\n                  <UserPlus size={16} />\n                  Invite Member\n                </Button>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-3\">\n                  {users.map((user) => (\n                    <div\n                      key={user.id}\n                      className=\"flex items-center justify-between p-4 bg-slate-50 rounded-lg\"\n                    >\n                      <div className=\"flex items-center gap-3\">\n                        <Avatar className=\"h-10 w-10\">\n                          <AvatarFallback className=\"bg-violet-100 text-violet-700\">\n                            {user.full_name?.[0] || user.email[0].toUpperCase()}\n                          </AvatarFallback>\n                        </Avatar>\n                        <div>\n                          <div className=\"flex items-center gap-2\">\n                            <span className=\"font-medium text-slate-900\">\n                              {user.full_name || user.email}\n                            </span>\n                            {user.is_owner && (\n                              <Badge variant=\"secondary\" className=\"gap-1 text-amber-700 bg-amber-50\">\n                                <Crown size={12} />\n                                Owner\n                              </Badge>\n                            )}\n                          </div>\n                          <p className=\"text-sm text-slate-500\">{user.email}</p>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-3\">\n                        {!user.is_owner && (\n                          <>\n                            <Select\n                              value={user.role}\n                              onValueChange={(v) => handleUpdateUserRole(user.id, v as \"admin\" | \"user\")}\n                            >\n                              <SelectTrigger className=\"w-28\">\n                                <SelectValue />\n                              </SelectTrigger>\n                              <SelectContent>\n                                <SelectItem value=\"admin\">Admin</SelectItem>\n                                <SelectItem value=\"user\">User</SelectItem>\n                              </SelectContent>\n                            </Select>\n                            <Button\n                              variant=\"ghost\"\n                              size=\"icon\"\n                              className=\"text-red-600 hover:text-red-700 hover:bg-red-50\"\n                              onClick={() => handleRemoveUser(user.id)}\n                            >\n                              <Trash2 size={16} />\n                            </Button>\n                          </>\n                        )}\n                        {user.is_owner && (\n                          <Badge className=\"bg-violet-100 text-violet-700\">Admin</Badge>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n\n                  {/* Pending Invitations */}\n                  {invitations.length > 0 && (\n                    <div className=\"pt-4 border-t border-slate-200 mt-4\">\n                      <h4 className=\"text-sm font-medium text-slate-700 mb-3\">\n                        Pending Invitations\n                      </h4>\n                      {invitations.map((invite) => (\n                        <div\n                          key={invite.id}\n                          className=\"flex items-center justify-between p-4 bg-amber-50 rounded-lg mb-2\"\n                        >\n                          <div className=\"flex items-center gap-3\">\n                            <Avatar className=\"h-10 w-10\">\n                              <AvatarFallback className=\"bg-amber-100 text-amber-700\">\n                                <Mail size={16} />\n                              </AvatarFallback>\n                            </Avatar>\n                            <div>\n                              <span className=\"font-medium text-slate-900\">\n                                {invite.email}\n                              </span>\n                              <p className=\"text-sm text-amber-600\">\n                                Invitation pending - expires{\" \"}\n                                {new Date(invite.expires_at).toLocaleDateString()}\n                              </p>\n                            </div>\n                          </div>\n                          <div className=\"flex items-center gap-3\">\n                            <Badge variant=\"outline\">{invite.role}</Badge>\n                            <Button\n                              variant=\"ghost\"\n                              size=\"icon\"\n                              className=\"text-red-600 hover:text-red-700 hover:bg-red-50\"\n                              onClick={() => handleRevokeInvitation(invite.id)}\n                            >\n                              <X size={16} />\n                            </Button>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          {/* Permissions Tab */}\n          <TabsContent value=\"permissions\" className=\"space-y-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Data Visibility Settings</CardTitle>\n                <CardDescription>\n                  Control what data users can see and access\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-6\">\n                <div className=\"flex items-center justify-between py-3 border-b border-slate-100\">\n                  <div>\n                    <p className=\"font-medium text-slate-900\">\n                      Users can see all contacts\n                    </p>\n                    <p className=\"text-sm text-slate-500\">\n                      Allow users to view contacts assigned to other team members\n                    </p>\n                  </div>\n                  <Switch defaultChecked />\n                </div>\n                <div className=\"flex items-center justify-between py-3 border-b border-slate-100\">\n                  <div>\n                    <p className=\"font-medium text-slate-900\">\n                      Users can see all deals\n                    </p>\n                    <p className=\"text-sm text-slate-500\">\n                      Allow users to view deals created by other team members\n                    </p>\n                  </div>\n                  <Switch defaultChecked />\n                </div>\n                <div className=\"flex items-center justify-between py-3 border-b border-slate-100\">\n                  <div>\n                    <p className=\"font-medium text-slate-900\">\n                      Users can export data\n                    </p>\n                    <p className=\"text-sm text-slate-500\">\n                      Allow users to export contacts and deals to CSV\n                    </p>\n                  </div>\n                  <Switch />\n                </div>\n                <div className=\"flex items-center justify-between py-3\">\n                  <div>\n                    <p className=\"font-medium text-slate-900\">\n                      Users can delete records\n                    </p>\n                    <p className=\"text-sm text-slate-500\">\n                      Allow users to delete contacts and deals they own\n                    </p>\n                  </div>\n                  <Switch />\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle>Role Permissions</CardTitle>\n                <CardDescription>\n                  Overview of what each role can do\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid md:grid-cols-2 gap-6\">\n                  <div className=\"p-4 bg-violet-50 rounded-lg\">\n                    <div className=\"flex items-center gap-2 mb-3\">\n                      <Shield className=\"h-5 w-5 text-violet-600\" />\n                      <h4 className=\"font-semibold text-violet-900\">Admin</h4>\n                    </div>\n                    <ul className=\"space-y-2 text-sm text-violet-800\">\n                      <li className=\"flex items-center gap-2\">\n                        <Check size={14} /> Manage organization settings\n                      </li>\n                      <li className=\"flex items-center gap-2\">\n                        <Check size={14} /> Invite and remove team members\n                      </li>\n                      <li className=\"flex items-center gap-2\">\n                        <Check size={14} /> Change user roles\n                      </li>\n                      <li className=\"flex items-center gap-2\">\n                        <Check size={14} /> Manage billing and subscription\n                      </li>\n                      <li className=\"flex items-center gap-2\">\n                        <Check size={14} /> Access all data\n                      </li>\n                      <li className=\"flex items-center gap-2\">\n                        <Check size={14} /> Configure integrations\n                      </li>\n                    </ul>\n                  </div>\n                  <div className=\"p-4 bg-slate-100 rounded-lg\">\n                    <div className=\"flex items-center gap-2 mb-3\">\n                      <Users className=\"h-5 w-5 text-slate-600\" />\n                      <h4 className=\"font-semibold text-slate-900\">User</h4>\n                    </div>\n                    <ul className=\"space-y-2 text-sm text-slate-700\">\n                      <li className=\"flex items-center gap-2\">\n                        <Check size={14} /> View assigned contacts\n                      </li>\n                      <li className=\"flex items-center gap-2\">\n                        <Check size={14} /> Create and manage own deals\n                      </li>\n                      <li className=\"flex items-center gap-2\">\n                        <Check size={14} /> Use Thorne AI assistant\n                      </li>\n                      <li className=\"flex items-center gap-2\">\n                        <Check size={14} /> Send messages and emails\n                      </li>\n                      <li className=\"flex items-center gap-2\">\n                        <X size={14} className=\"text-red-500\" /> Cannot manage team\n                      </li>\n                      <li className=\"flex items-center gap-2\">\n                        <X size={14} className=\"text-red-500\" /> Cannot access billing\n                      </li>\n                    </ul>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          {/* Billing Tab */}\n          <TabsContent value=\"billing\" className=\"space-y-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Current Plan</CardTitle>\n                <CardDescription>\n                  Manage your subscription and billing\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"flex items-start justify-between p-6 bg-gradient-to-r from-violet-50 to-indigo-50 rounded-xl\">\n                  <div>\n                    <Badge className=\"mb-2 bg-violet-600\">{plan?.name || \"Starter\"}</Badge>\n                    <h3 className=\"text-2xl font-bold text-slate-900\">\n                      {formatPrice((plan?.pricePerSeatCents || 0) * (tenant?.seat_count || 1))}\n                      <span className=\"text-base font-normal text-slate-500\">/month</span>\n                    </h3>\n                    <p className=\"text-sm text-slate-600 mt-1\">\n                      {formatPrice(plan?.pricePerSeatCents || 0)} per seat x {tenant?.seat_count || 1} seats\n                    </p>\n                    <div className=\"mt-4 flex items-center gap-2\">\n                      <Badge\n                        variant=\"outline\"\n                        className={\n                          tenant?.subscription_status === \"active\"\n                            ? \"text-emerald-600 border-emerald-200 bg-emerald-50\"\n                            : \"text-amber-600 border-amber-200 bg-amber-50\"\n                        }\n                      >\n                        {tenant?.subscription_status || \"trialing\"}\n                      </Badge>\n                    </div>\n                  </div>\n                  <Button onClick={handleManageBilling} variant=\"outline\">\n                    Manage Billing\n                  </Button>\n                </div>\n\n                <div className=\"mt-6\">\n                  <h4 className=\"font-medium text-slate-900 mb-3\">Plan Features</h4>\n                  <ul className=\"grid md:grid-cols-2 gap-2\">\n                    {plan?.features.map((feature) => (\n                      <li key={feature} className=\"flex items-center gap-2 text-sm text-slate-600\">\n                        <Check size={16} className=\"text-emerald-500\" />\n                        {feature}\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle>Available Plans</CardTitle>\n                <CardDescription>\n                  Upgrade or downgrade your subscription\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid md:grid-cols-3 gap-4\">\n                  {SUBSCRIPTION_PLANS.map((p) => (\n                    <div\n                      key={p.id}\n                      className={`p-4 rounded-lg border-2 ${\n                        p.id === tenant?.plan\n                          ? \"border-violet-500 bg-violet-50\"\n                          : \"border-slate-200\"\n                      }`}\n                    >\n                      <h4 className=\"font-semibold text-slate-900\">{p.name}</h4>\n                      <p className=\"text-2xl font-bold mt-1\">\n                        {formatPrice(p.pricePerSeatCents)}\n                        <span className=\"text-sm font-normal text-slate-500\">\n                          /seat/mo\n                        </span>\n                      </p>\n                      <p className=\"text-sm text-slate-500 mt-1\">\n                        Up to {p.maxSeats} seats\n                      </p>\n                      {p.id === tenant?.plan ? (\n                        <Badge className=\"mt-3 bg-violet-600\">Current Plan</Badge>\n                      ) : (\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          className=\"mt-3 w-full bg-transparent\"\n                          onClick={handleManageBilling}\n                        >\n                          {(p.pricePerSeatCents > (plan?.pricePerSeatCents || 0))\n                            ? \"Upgrade\"\n                            : \"Downgrade\"}\n                        </Button>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          {/* Widget Tab */}\n          <TabsContent value=\"widget\" className=\"space-y-6\">\n            <Card>\n              <CardHeader className=\"flex flex-row items-center justify-between\">\n                <div>\n                  <CardTitle>Chat Widgets</CardTitle>\n                  <CardDescription>\n                    Create embeddable chat widgets for your website to capture leads and engage visitors\n                  </CardDescription>\n                </div>\n                <Button onClick={() => setShowCreateChatbot(true)} className=\"gap-2\">\n                  <Plus size={16} />\n                  Create Widget\n                </Button>\n              </CardHeader>\n              <CardContent>\n                {chatbots.length === 0 ? (\n                  <div className=\"text-center py-12 bg-slate-50 rounded-lg\">\n                    <MessageSquare className=\"h-12 w-12 text-slate-300 mx-auto mb-4\" />\n                    <h3 className=\"font-medium text-slate-900 mb-1\">No chat widgets yet</h3>\n                    <p className=\"text-sm text-slate-500 mb-4\">\n                      Create your first widget to start capturing leads from your website\n                    </p>\n                    <Button onClick={() => setShowCreateChatbot(true)} className=\"gap-2\">\n                      <Plus size={16} />\n                      Create Your First Widget\n                    </Button>\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    {chatbots.map((chatbot) => (\n                      <div\n                        key={chatbot.id}\n                        className=\"flex items-center justify-between p-4 bg-slate-50 rounded-lg\"\n                      >\n                        <div className=\"flex items-center gap-4\">\n                          <div\n                            className=\"w-12 h-12 rounded-xl flex items-center justify-center\"\n                            style={{ backgroundColor: chatbot.theme_color }}\n                          >\n                            <MessageSquare className=\"text-white\" size={24} />\n                          </div>\n                          <div>\n                            <div className=\"flex items-center gap-2\">\n                              <span className=\"font-semibold text-slate-900\">{chatbot.name}</span>\n                              <Badge\n                                variant=\"outline\"\n                                className={chatbot.is_active ? \"text-emerald-600 border-emerald-200 bg-emerald-50\" : \"text-slate-500\"}\n                              >\n                                {chatbot.is_active ? \"Active\" : \"Inactive\"}\n                              </Badge>\n                            </div>\n                            <p className=\"text-sm text-slate-500 mt-0.5\">{chatbot.welcome_message}</p>\n                          </div>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            className=\"gap-2\"\n                            onClick={() => copyEmbedCode(chatbot)}\n                          >\n                            {copiedId === chatbot.id ? (\n                              <>\n                                <CheckCircle size={14} className=\"text-emerald-500\" />\n                                Copied!\n                              </>\n                            ) : (\n                              <>\n                                <Code size={14} />\n                                Get Code\n                              </>\n                            )}\n                          </Button>\n                          <Switch\n                            checked={chatbot.is_active}\n                            onCheckedChange={() => handleToggleChatbot(chatbot)}\n                          />\n                          <Button\n                            variant=\"ghost\"\n                            size=\"icon\"\n                            className=\"text-red-600 hover:text-red-700 hover:bg-red-50\"\n                            onClick={() => handleDeleteChatbot(chatbot.id)}\n                          >\n                            <Trash2 size={16} />\n                          </Button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n\n            {/* Embed Instructions */}\n            <Card>\n              <CardHeader>\n                <CardTitle>How to Install</CardTitle>\n                <CardDescription>\n                  Add the chat widget to your website in just a few steps\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"flex items-start gap-4 p-4 bg-violet-50 rounded-lg\">\n                  <div className=\"w-8 h-8 rounded-full bg-violet-600 text-white flex items-center justify-center font-semibold text-sm shrink-0\">\n                    1\n                  </div>\n                  <div>\n                    <h4 className=\"font-medium text-slate-900\">Create a widget</h4>\n                    <p className=\"text-sm text-slate-600\">\n                      Click \"Create Widget\" to set up a new chat widget with your custom branding and welcome message.\n                    </p>\n                  </div>\n                </div>\n                <div className=\"flex items-start gap-4 p-4 bg-violet-50 rounded-lg\">\n                  <div className=\"w-8 h-8 rounded-full bg-violet-600 text-white flex items-center justify-center font-semibold text-sm shrink-0\">\n                    2\n                  </div>\n                  <div>\n                    <h4 className=\"font-medium text-slate-900\">Copy the embed code</h4>\n                    <p className=\"text-sm text-slate-600\">\n                      Click \"Get Code\" to copy the HTML snippet for your widget.\n                    </p>\n                  </div>\n                </div>\n                <div className=\"flex items-start gap-4 p-4 bg-violet-50 rounded-lg\">\n                  <div className=\"w-8 h-8 rounded-full bg-violet-600 text-white flex items-center justify-center font-semibold text-sm shrink-0\">\n                    3\n                  </div>\n                  <div>\n                    <h4 className=\"font-medium text-slate-900\">Paste before {\"</body>\"}</h4>\n                    <p className=\"text-sm text-slate-600\">\n                      Add the code snippet to your website, just before the closing {\"</body>\"} tag. The widget will appear automatically.\n                    </p>\n                  </div>\n                </div>\n                <div className=\"flex items-start gap-4 p-4 bg-emerald-50 rounded-lg\">\n                  <div className=\"w-8 h-8 rounded-full bg-emerald-600 text-white flex items-center justify-center font-semibold text-sm shrink-0\">\n                    <Check size={16} />\n                  </div>\n                  <div>\n                    <h4 className=\"font-medium text-slate-900\">Start chatting!</h4>\n                    <p className=\"text-sm text-slate-600\">\n                      Messages from visitors will appear in real-time in your dashboard. You can reply directly from the contact's chat panel.\n                    </p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n        </Tabs>\n      </div>\n\n      {/* Create Chatbot Modal */}\n      <Dialog open={showCreateChatbot} onOpenChange={setShowCreateChatbot}>\n        <DialogContent className=\"sm:max-w-md\">\n          <DialogHeader>\n            <DialogTitle>Create Chat Widget</DialogTitle>\n            <DialogDescription>\n              Set up a new embeddable chat widget for your website\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"chatbot-name\">Widget Name</Label>\n              <Input\n                id=\"chatbot-name\"\n                placeholder=\"e.g., Main Website, Landing Page\"\n                value={newChatbotName}\n                onChange={(e) => setNewChatbotName(e.target.value)}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"chatbot-welcome\">Welcome Message</Label>\n              <Textarea\n                id=\"chatbot-welcome\"\n                placeholder=\"Hi there! How can I help you today?\"\n                value={newChatbotWelcome}\n                onChange={(e) => setNewChatbotWelcome(e.target.value)}\n                rows={2}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"chatbot-color\">Theme Color</Label>\n              <div className=\"flex items-center gap-3\">\n                <input\n                  type=\"color\"\n                  id=\"chatbot-color\"\n                  value={newChatbotColor}\n                  onChange={(e) => setNewChatbotColor(e.target.value)}\n                  className=\"w-12 h-10 rounded border border-slate-200 cursor-pointer\"\n                />\n                <Input\n                  value={newChatbotColor}\n                  onChange={(e) => setNewChatbotColor(e.target.value)}\n                  className=\"flex-1\"\n                />\n              </div>\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"chatbot-instructions\">AI Instructions (Optional)</Label>\n              <Textarea\n                id=\"chatbot-instructions\"\n                placeholder=\"Custom instructions for how the AI should respond to visitors...\"\n                value={newChatbotInstructions}\n                onChange={(e) => setNewChatbotInstructions(e.target.value)}\n                rows={3}\n              />\n              <p className=\"text-xs text-slate-500\">\n                These instructions will guide the AI when auto-responding to visitors\n              </p>\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setShowCreateChatbot(false)}>\n              Cancel\n            </Button>\n            <Button onClick={handleCreateChatbot} disabled={creatingChatbot || !newChatbotName.trim()}>\n              {creatingChatbot ? <Loader2 className=\"h-4 w-4 animate-spin mr-2\" /> : null}\n              Create Widget\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Invite Modal */}\n      <Dialog open={showInviteModal} onOpenChange={setShowInviteModal}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Invite Team Member</DialogTitle>\n            <DialogDescription>\n              Send an invitation to join your organization\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"invite-email\">Email Address</Label>\n              <Input\n                id=\"invite-email\"\n                type=\"email\"\n                placeholder=\"colleague@company.com\"\n                value={inviteEmail}\n                onChange={(e) => setInviteEmail(e.target.value)}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"invite-role\">Role</Label>\n              <Select value={inviteRole} onValueChange={(v) => setInviteRole(v as \"admin\" | \"user\")}>\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"user\">User - Can manage their assigned contacts</SelectItem>\n                  <SelectItem value=\"admin\">Admin - Full access to all settings</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            {usedSeats + pendingSeats >= (tenant?.max_seats || 0) && (\n              <p className=\"text-sm text-amber-600 bg-amber-50 p-3 rounded-lg\">\n                You've reached your seat limit. Upgrade your plan to invite more team members.\n              </p>\n            )}\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setShowInviteModal(false)}>\n              Cancel\n            </Button>\n            <Button\n              onClick={handleInviteUser}\n              disabled={inviting || !inviteEmail.trim() || usedSeats + pendingSeats >= (tenant?.max_seats || 0)}\n            >\n              {inviting ? <Loader2 className=\"h-4 w-4 animate-spin mr-2\" /> : null}\n              Send Invitation\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n","export interface SubscriptionPlan {\n  id: string\n  name: string\n  description: string\n  pricePerSeatCents: number\n  features: string[]\n  maxSeats: number\n  stripePriceId?: string\n}\n\n// Per-seat pricing plans\nexport const SUBSCRIPTION_PLANS: SubscriptionPlan[] = [\n  {\n    id: \"starter\",\n    name: \"Starter\",\n    description: \"Perfect for small teams getting started\",\n    pricePerSeatCents: 2900, // $29/seat/month\n    features: [\n      \"Up to 500 contacts\",\n      \"Basic AI assistance\",\n      \"Email integration\",\n      \"Standard support\",\n    ],\n    maxSeats: 5,\n  },\n  {\n    id: \"professional\",\n    name: \"Professional\",\n    description: \"For growing teams that need more power\",\n    pricePerSeatCents: 7900, // $79/seat/month\n    features: [\n      \"Up to 5,000 contacts\",\n      \"Advanced AI with Thorne\",\n      \"Multi-channel outreach\",\n      \"Priority support\",\n      \"Custom workflows\",\n    ],\n    maxSeats: 25,\n  },\n  {\n    id: \"enterprise\",\n    name: \"Enterprise\",\n    description: \"Full power for large organizations\",\n    pricePerSeatCents: 14900, // $149/seat/month\n    features: [\n      \"Unlimited contacts\",\n      \"Full Thorne AI suite\",\n      \"All integrations\",\n      \"Dedicated support\",\n      \"Custom training\",\n      \"API access\",\n    ],\n    maxSeats: 100,\n  },\n]\n\nexport function getPlanById(planId: string): SubscriptionPlan | undefined {\n  return SUBSCRIPTION_PLANS.find((p) => p.id === planId)\n}\n\nexport function formatPrice(cents: number): string {\n  return new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n  }).format(cents / 100)\n}\n","/* __next_internal_action_entry_do_not_use__ [{\"603bf032a109c14539a49fef96f434a85e2bc4e34e\":\"createBillingPortalSession\"},\"app/actions/stripe.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";const $$RSC_SERVER_ACTION_1=/*#__PURE__*/createServerReference(\"603bf032a109c14539a49fef96f434a85e2bc4e34e\",callServer,void 0,findSourceMapURL,\"createBillingPortalSession\");export{$$RSC_SERVER_ACTION_1 as createBillingPortalSession};"],"names":[],"mappings":"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"}